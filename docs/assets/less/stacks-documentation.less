//  ============================================================================
//  $   IMPORTS
//  ----------------------------------------------------------------------------
@import (reference) "../../../lib/stacks.less"; //  These are actual styles used in SO projects

.stacks-section {
    margin-top: var(--su48);
    margin-bottom: var(--su48);
}

.stacks-header {
    margin-bottom: 0.75em;
}

.stacks-intro-crane {
    position: absolute;
    top: -15%;
    left: 17%;
}

.stacks-intro-field {
    position: absolute;
    bottom: 5%;
    right: 9%;
}

.stacks-home-nav {
    margin-bottom: 316px;
}

#stacks-internals #screen-md({
    .stacks-intro-crane {
        width: 135px;
        height: 327px;
        top: -8%;
        left: 12%;
    }

    .stacks-intro-field {
        width: 537px;
        height: 390px;
    }
}, @force-selector: true);

#stacks-internals #screen-md({
    .stacks-navigation-shadow {
        box-shadow: 3px 0 3px 0 hsla(0, 0, 0, 0.02), 7px 0 6px 0 hsla(0, 0, 0, 0.03), 13px 0 11px 0 hsla(0, 0, 0, 0.04), 22px 0 20px 0 hsla(0, 0, 0, 0.04), 42px 0 37px 0 hsla(0, 0, 0, 0.05);
    }
}, @force-selector: true);

#stacks-internals #screen-sm({
    .stacks-navigation-shadow {
        box-shadow: none;
    }
}, @force-selector: true);

#stacks-internals #screen-sm({
    .stacks-home-nav {
        margin-bottom: 170px;
    }

    .stacks-intro-crane {
        width: 90px;
        height: 218px;

        top: 0;
        left: 12%;
    }

    .stacks-intro-field {
        width: 358px;
        height: 260px;
        bottom: 20%;
    }
}, @force-selector: true);

@media (max-width: 320px) {
    html .stacks-home-nav {
        margin-bottom: 230px;
    }

    html .stacks-intro-crane {
        background-position: top 0 left 15%, bottom 50% right 0;
        background-size: 69px 166px, 272px 197px;
    }

    html .stacks-intro-field {
        width: 272px;
        height: 197px;
        bottom: 33%;
    }
}

//  $$  BACKGROUNDS EXAMPLE
//  ----------------------------------------------------------------------------
.stacks-bg-img {
    background-image: url("../img/illustrationBgImage.svg");
}

//  $$  NAV SECONDARY SUBNAV
//  ----------------------------------------------------------------------------
.toc {
    ol {
        .list-reset;
        .d-flex;
        .fd-column;

        li {
            .mb8;
        }

        li a {
            .d-block;
            .fs-body1;
            .lh-sm;
            .py2;
        }

        ol {
            .pt6;

            li {
                .p2;
                .pl12;
                .mb0;
            }
        }
    }
}


//  ============================================================================
//  $   TYPE STYLES
//  ============================================================================
//  $$  TITLES
//  ----------------------------------------------------------------------------
.stacks-title {
    text-shadow: 0 0 10px var(--theme-primary-legacy-400), 0 0 10px var(--theme-primary-legacy-400), 0 0 10px var(--theme-primary-legacy-400);
    text-rendering: optimizeLegibility;
}

.stacks-h1,
.stacks-h2,
.stacks-h3,
.stacks-h4 {
    margin-bottom: 0;
    font-weight: 600;
    line-height: var(--lh-sm);
    color: var(--fc-dark-legacy);
    text-rendering: optimizeLegibility;
}

//  --  Page Title
.stacks-h1 {
    font-size: var(--fs-display1);
    margin-bottom: 0.5em;
}

//  --  Page Title Badged
.stacks-badged {
    margin-bottom: 0.5em;
}

//  --  Section Title
.stacks-h2 {
    font-size: var(--fs-headline1);
    padding-top: calc(var(--su96) - var(--su8)); // Hack for #anchor positioning
    margin-top: calc((var(--su96) - var(--su8)) * -1); // Hack for #anchor positioning
}

//  --  Sub-section Title
.stacks-h3 {
    font-size: var(--fs-subheading);
    color: var(--fc-medium-legacy);
    padding-top: calc(var(--su96) - var(--su8)); // Hack for #anchor positioning
    margin-top: calc((var(--su96) - var(--su8)) * -1); // Hack for #anchor positioning
}

.stacks-h4 {
    font-size: var(--fs-body3);
    color: var(--fc-light-legacy);
}

// -- Custom dotnet badge colors
// follows the dotnet brand guidelines at https://github.com/dotnet/brand/blob/main/dotnet-brand-guidelines.pdf
.stacks-badge-dotnet--icon {
    background-color: #2b0b98;
    .dark-mode({
        background-color: #dfd8f7;
    });
}
.stacks-badge-dotnet--text {
    background-color: #512bd4;
    .dark-mode({
        background-color: #9e92c7;
    });
}

//  $$  PARAGRAPHS
//  ----------------------------------------------------------------------------
.stacks-copy {
    margin-top: 0;
    margin-bottom: 1em;
    font-size: var(--fs-body3);
    line-height: var(--lh-lg);
    color: var(--fc-medium-legacy);

    strong {
        color: var(--fc-dark-legacy);
    }
}

.stacks-copy__lg {
    font-size: var(--fs-title);
}


//  --   Code Tag
//  ----------------------------------------------------------------------------
.stacks-code {
    padding: 3px 5px var(--su2) var(--su4);
    border-radius: var(--br-sm);
    background-color: var(--black-legacy-075);
    font-size: var(--fs-caption);
    font-family: var(--ff-mono);
    color: var(--fc-dark-legacy);
    line-height: var(--lh-xs);
    vertical-align: middle;
    overflow-wrap: break-word;
    white-space: normal;
}


//  ============================================================================
//  $  LISTS
//  ----------------------------------------------------------------------------
.stacks-list {
    margin-bottom: 1em;
    font-size: var(--fs-body3);
    line-height: var(--lh-lg);
    color: var(--fc-medium-legacy);
}


//  ============================================================================
//  $   CODE STYLES
//  ----------------------------------------------------------------------------
.stacks-preview {
    margin-bottom: var(--su48);
    border-radius: var(--br-md);
    box-shadow: var(--bs-sm);

    .highcontrast-mode({
        box-shadow: none;
    });

    > pre.s-code-block {
        border-radius: var(--br-md) var(--br-md) 0 0;
        border: 1px solid var(--bc-medium-legacy);
        max-height: 24rem;

        .dark-mode({
            border-color: var(--bc-lighter-legacy);
        });
    }

    &._preview-none pre.s-code-block {
        .bar-md;
    }
}

//  Preview area
.stacks-preview--example {
    padding: var(--su16);
    border-bottom-left-radius: var(--br-md);
    border-bottom-right-radius: var(--br-md);
    border: 1px solid var(--bc-medium-legacy);
    border-top-width: 0;
    font-size: var(--fs-body1);

    .dark-mode({
        border-color: var(--bc-lighter-legacy);
    });
}

// Checkered background
.bg-checkered {
    background-color: var(--white-legacy);
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3E%3Cg fill='%23e4e6e8' fill-opacity='0.4'%3E%3Cpath fill-rule='evenodd' d='M0 0h4v4H0V0zm4 4h4v4H4V4z'/%3E%3C/g%3E%3C/svg%3E");
}

//  ============================================================================
//  $   ICON PRESENTATION
//  ----------------------------------------------------------------------------
.stacks-icon-container {
    scroll-margin-top: 150px;
}

//  --   Preview Area
.stacks-icon-preview {
    padding: var(--su8);
    min-height: 4em;
    border-top-left-radius: var(--br-sm);
    border-top-right-radius: var(--br-sm);
    background-color: var(--black-legacy-025);
    box-shadow: inset 0 -1px 0 var(--black-legacy-075);
    color: var(--fc-medium-legacy);

    .dark-mode({
        fill: var(--black-legacy);
    });
}

//  ============================================================================
//  $   GRID
//      Used to showcase grid layouts and cells
//  ----------------------------------------------------------------------------

.stacks-flex-example--item {
    &,
    .s-table td& {
        background-color: var(--black-legacy-075);
        border: var(--su-static1) solid var(--bc-medium-legacy);
        color: var(--fc-dark-legacy);
        font-family: var(--ff-mono);
        font-size: var(--fs-caption);
        padding: var(--su8);
    }
}

//  ============================================================================
//  $   COLORS
//  ----------------------------------------------------------------------------
.stacks-swatch {
    width: var(--su-static32);
    height: var(--su-static32);
}

//  ============================================================================
//  $   Search Customization
//  ----------------------------------------------------------------------------
.algolia-autocomplete {
    display: block !important;
    width: 100% !important;

    [class^="ds-dataset-"] {
        .algolia-docsearch-suggestion--highlight {
            color: var(--fc-medium-legacy);
            background: var(--orange-legacy-100);
        }

        .algolia-docsearch-suggestion--text {
            .algolia-docsearch-suggestion--highlight {
                box-shadow: inset 0 -2px 0 0 hsla(186, 45%, 48%, 0.8);
            }
        }
    }

    .ds-dropdown-menu {
        width: 100% !important;
        max-width: 100% !important;
        min-width: 0 !important;
    }

    .algolia-docsearch-footer {
        float: none !important;
        width: auto !important;
        height: auto !important;
        padding: 5px 8px;
        font-size: var(--fs-caption) !important;
        line-height: 1 !important;
        color: var(--fc-light-legacy) !important;
    }

    .algolia-docsearch-footer--logo {
        display: inline !important;
        overflow: visible !important;
        color: inherit !important;
        text-indent: 0 !important;
        background: 0 0 !important;
    }

    @media (max-width: 640px) {
        .algolia-docsearch-suggestion--subcategory-column {
            display: none !important;
        }

        .algolia-docsearch-suggestion--content {
            width: 100% !important;
            padding: 0 !important;

            &:before {
                display: none !important;
            }
        }
    }
}

//  ============================================================================
//  $   Theming
//  ----------------------------------------------------------------------------
body.theme-system {
    --theme-topbar-height: var(--su64);
}
.stacks-topbar.s-topbar .s-topbar--content {
    --theme-topbar-item-color: var(--black-legacy-300);
}

.theme-custom {
    &.themed {
        // v1 legacy custom theme colors
        // TODO remove when v1 is no longer supported
        .generate-calculated-themed-variables(hsl(172, 37%, 48%), primary, base);
        .generate-calculated-themed-variables(hsl(259, 29%, 55%), secondary, base);
        .generate-calculated-themed-variables(hsl(172, 37%, 48%), primary, dark);
        .generate-calculated-themed-variables(hsl(259, 29%, 55%), secondary, dark);
        // v2 colors and theming
        .create-custom-theme-hsl-variables(hsl(172, 37%, 48%), primary, base);
        .create-custom-theme-hsl-variables(hsl(259, 29%, 55%), secondary, base);
        .create-custom-theme-hsl-variables(hsl(172, 37%, 48%), primary, dark);
        .create-custom-theme-hsl-variables(hsl(259, 29%, 55%), secondary, dark);
    }
}

.team-avatar {
    background-image: url("../img/team-avatar.png");
}

//  ============================================================================
//  $   Highlighting
//  ----------------------------------------------------------------------------
#stacks-internals #screen-lg({
    .lg\:highlight {
        padding: 3px 8px;
        background-color: var(--highlight-variable);
        border-radius: 40px;
        color: var(--highlight-bg);
    }
});

#stacks-internals #screen-md({
    .md\:highlight {
        padding: 3px 8px;
        background-color: var(--highlight-variable);
        border-radius: 40px;
        color: var(--highlight-bg);
    }
});

#stacks-internals #screen-sm({
    .sm\:highlight {
        padding: 3px 8px;
        background-color: var(--highlight-variable);
        border-radius: 40px;
        color: var(--highlight-bg);
    }
});

@import (inline) "~@stackoverflow/stacks-editor/dist/styles.css";
