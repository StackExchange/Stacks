---
layout: page
title: Truncation
description: Stacks provides utility classes for various types of truncation.
---
<!-- Additional javascript -->
<script src="{{ "/assets/dist/entry.truncation.js" | url }}" defer></script>

<section class="stacks-section">
    {% header "h2", "Classes" %}
    <div class="overflow-x-auto mb32" tabindex="0">
        <table class="wmn5 s-table s-table__bx-simple">
            <thead>
                <tr>
                    <th scope="col" class="s-table--cell3">Class</th>
                    <th scope="col" class="s-table--cell3">Applies to</th>
                    <th scope="col">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code class="stacks-code">.truncate</code></td>
                    <td></td>
                    <td>Text is cropped to the width of its parent with an ellipsis.</td>
                </tr>
                <tr>
                    <td><code class="stacks-code">.v-truncate[x]</code></td>
                    <td></td>
                    <td>Text is cropped to the length of [x] number of lines with an ellipsis.</td>
                </tr>
                <tr>
                    <td><code class="stacks-code">.v-truncate-fade</code></td>
                    <td></td>
                    <td>Text is cropped by visually fading it out.</td>
                </tr>
                <tr>
                    <td><code class="stacks-code">.v-truncate-fade__sm</code></td>
                    <td><code class="stacks-code">.v-truncate-fade</code></td>
                    <td>Reduces the height of the visible text</td>
                </tr>
                <tr>
                    <td><code class="stacks-code">.v-truncate-fade__lg</code></td>
                    <td><code class="stacks-code">.v-truncate-fade</code></td>
                    <td>Increases the amount of visible text.</td>
                </tr>
            </tbody>
        </table>
    </div>

    {% header "h2", "JavaScript" %}
    <p class="stacks-copy">Optionally, you can use the <code class="stacks-code">s-truncation</code> component to limit the length of text in an element, while retaining as much of the original markup as possible. It's an useful option when dealing with elements that contain more than just plain text, which aren't truncated by the regular CSS classes.</p>

    {% header "h3", "Attributes" %}
    <div class="overflow-x-auto mb32" tabindex="0">
        <table class="wmn4 s-table s-table__bx-simple">
            <thead>
                <tr>
                    <th class="s-table--cell5" scope="col">Attribute</th>
                    <th class="s-table--cell2" scope="col">Applied to</th>
                    <th scope="col">Description</th>
                </tr>
            </thead>
            <tbody class="fs-caption">
                <tr>
                    <th scope="row"><code class="stacks-code">data-controller="s-truncation"</code></th>
                    <td>Controller element</td>
                    <td class="p8">Wires up the element to the truncate controller.</td>
                </tr>
                <tr>
                    <th scope="row"><code class="stacks-code">data-s-truncation-length="[x]"</code></th>
                    <td>Controller element</td>
                    <td class="p8">Sets the character limit for the text inside the element</td>
                </tr>
                <tr>
                    <th scope="row"><code class="stacks-code">data-s-truncation-truncated="[true|false]"</code></th>
                    <td>Controller element</td>
                    <td class="p8">Sets the trucation state for the element. Default is <code class="stacks-code">false</code></code></td>
                </tr>
            </tbody>
        </table>
    </div>
</section>

<section class="stacks-section">
    {% header "h2", "Examples" %}
    {% header "h3", "Ellipses" %}
    <p class="stacks-copy">CSS offers truncation on arbitrarily-long strings. This can help sanitize user-inputted things like bios, locations, or display names. In order for text truncation to work, it should be applied to a block-level element. Truncation can only apply to text/strings, not arbitrary block-level elements.</p>
    <div class="stacks-preview">
{% highlight html %}
<p class="truncate">…</p>
<p class="v-truncate1">…</p>
<p class="v-truncate2">…</p>
<p class="v-truncate3">…</p>
<p class="v-truncate4">…</p>
<p class="v-truncate5">…</p>
{% endhighlight %}
        <div class="stacks-preview--example">
            <div class="truncate wmx3 mb16">
                Regardless of length, this text will be truncated horizontally. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </div>

            <div class="v-truncate1 wmx3 mb16">
                Regardless of length, this text will be this text will be truncated to 1 line, vertically. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </div>

            <div class="v-truncate2 wmx3 mb16">
                Regardless of length, this text will be this text will be truncated to 2 lines, vertically. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </div>

            <div class="v-truncate3 wmx3 mb16">
                Regardless of length, this text will be this text will be truncated to 3 lines, vertically. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </div>

            <div class="v-truncate4 wmx3 mb16">
                Regardless of length, this text will be this text will be truncated to 4 lines, vertically. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </div>

            <div class="v-truncate5 wmx3">
                Regardless of length, this text will be this text will be truncated to 5 lines, vertically. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </div>
        </div>
    </div>

    {% header "h3", "Fade" %}
    <p class="stacks-copy">Alternatively, you can use a vertical fade that will set <code class="stacks-code">max-height</code> and sets a vertical <code class="stacks-code">mask-image</code>:</p>
    <div class="stacks-preview">
        {% highlight html %}
<p class="v-truncate-fade v-truncate-fade__sm">…</p>
<p class="v-truncate-fade">…</p>
<p class="v-truncate-fade v-truncate-fade__lg">…</p>
        {% endhighlight %}
        <div class="stacks-preview--example">
            <div class="v-truncate-fade v-truncate-fade__sm wmx3 mb16">
                Regardless of length, this text will be this text will fade out, vertically. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </div>

            <div class="v-truncate-fade wmx3 mb16">
                Regardless of length, this text will be this text will fade out, vertically. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </div>

            <div class="v-truncate-fade v-truncate-fade__lg wmx3">
                Regardless of length, this text will be this text will fade out, vertically. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </div> 
        </div>
    </div>

    {% header "h3", "JavaScript Examples" %}
    <p class="stacks-copy">CSS offers truncation on arbitrarily-long strings. This can help sanitize user-inputted things like bios, locations, or display names. In order for text truncation to work, it should be applied to a block-level element. Truncation can only apply to text/strings, not arbitrary block-level elements.</p>

    <div class="stacks-preview">
        {% highlight html %}
<div data-controller="s-truncation" data-s-truncation-length="130">
    …
</div>
        {% endhighlight %}
        <div class="stacks-preview--example d-grid grid__6 gx12">
            <div class="grid--col4">
                <div data-controller="s-truncation" data-s-truncation-length="130" data-s-truncation-truncated="false" class="js-truncation-example">
                    <p>In <a href="https://www.destroyallsoftware.com/talks/wat">Gary Bernhardt's Wat talk</a> from 2012 there's this example:</p>
                    {% highlight javascript %}
> new Array(16).join("wat" + 1);
> "wat1wat1wat1wat1wat1wat1wat1wat1wat1wat1wat1wat1wat1wat1wat1" 
> 
> new Array(16).join("wat" - 1) + " Batman!";
> "NaNNaNNaNNaNNaNNaNNaNNaNNaNNaNNaNNaNNaNNaNNaN Batman!" 
                    {% endhighlight %}
    
                    <p class="mt12">So allow me to paraphrase an earlier remark in the presentation:</p>
                    <blockquote class="bg-black-025 pl12 py4 ml16 bl">Exactly, right!? Like, what is even going on? I <span class="fs-italic">don't even understand</span> what person would think that any of this is a good idea!</blockquote>
                </div>
            </div>
            <div class="grid--col2">
                <div class="d-grid grid__2 g8 ai-center">
                    <label class="grid--item s-label" for="content-length">Content length</label>
                    <input class="grid--item s-input js-truncation-length" type="number" value="130" autocomplete="off">
                    <label class="grid--item s-label" for="toggle-example">Truncate</label>
                    <input class="grid--item s-toggle-switch js-truncation-toggle" id="toggle-truncate" type="checkbox" autocomplete="off">
                </div>
            </div>
        </div>
    </div>

</section>
