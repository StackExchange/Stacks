.s-btn-group {
    // CONTEXTUAL STYLES
    #stacks-internals #screen-sm({
        .s-btn {
            --_bu-px: 0.4em;

            &.s-btn__dropdown {
                padding-right: 1.2em;

                &:after {
                    right: var(--_bu-px);
                }
            }
        }
    }, @force-selector: true);

    // CHILD ELEMENTS
    form {
        display: flex;
        margin-right: calc(var(--su-static1) * -1); // -1px
    }

    .s-btn {
        --_bu-br: var(--br-sm);
        --_bu-bc-hover: transparent;

        &,
        &.s-btn__md {
            --_bu-px: var(--su12);
            --_bu-py: var(--su8);
        }

        &.s-btn___xs {
            --_bu-px: var(--su8);
            --_bu-py: var(--su4);
        }

        &.s-btn___sm {
            --_bu-px: calc(var(--su8) + var(--su2));
            --_bu-py: var(--su6);
        }

        &.is-selected,
        &--radio:checked + .s-btn {
            font-weight: bold;
        }

        .s-btn--badge {
            font-weight: normal;
        }

        & .s-btn--text {
            &:before {
                content: attr(data-text);
                content: attr(data-text) / "";
                font-weight: bold;
                height: 0;
                pointer-events: none;
                user-select: none;
                visibility: hidden;
            }

            display: inline-flex;
            flex-direction: column;
        }

        white-space: nowrap; // When the buttons wrap, they get super tall and mess up the whole layout
    }

    // STATIC COMPONENT STYLES
    border: var(--su-static1) solid var(--black-300);
    border-radius: var(--br-md);
    display: inline-flex; // TODO investigate if changing from flex to inline-flex will be an issue
    flex-wrap: wrap;
    margin-bottom: var(--su-static1); // Compensate for buttons having a margin bottom of -1px to account for row wrapping
    padding: calc(var(--su-static4) - var(--su-static1));
}
