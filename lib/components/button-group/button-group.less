.s-btn-group {
    // CONTEXTUAL STYLES
    #stacks-internals #screen-sm({
        .s-btn {
            --_bu-px: 0.4em;

            &.s-btn__dropdown {
                padding-right: 1.2em;

                &:after {
                    right: var(--_bu-px);
                }
            }
        }
    }, @force-selector: true);

    // CHILD ELEMENTS
    form {
        display: flex;
        margin-right: calc(var(--su-static1) * -1); // -1px
    }

    .s-btn {
        --_bu-br: var(--br-sm);
        --_bu-bc-hover: transparent;

        &,
        &.s-btn__md {
            --_bu-px: var(--su12);
            --_bu-py: var(--su8);
        }

        &.s-btn___xs {
            --_bu-px: var(--su8);
            --_bu-py: var(--su4);
        }

        &.s-btn___sm {
            --_bu-px: calc(var(--su8) + var(--su2));
            --_bu-py: var(--su6);
        }

        &,
        &.s-btn__md,
        &.s-btn___xs,
        &.s-btn___sm {
            &:not(.s-btn__link):not(.s-btn__unset):focus-visible,
            .s-btn--radio:focus-visible + .s-btn {
                // TODO convert to .focus-styles() mixin once https://github.com/StackExchange/Stacks/pull/1629 is merged
                border-color: var(--theme-secondary-400) !important;
                box-shadow: inset 0 0 0 var(--su-static2) var(--white), 0 0 0 var(--su-static1) var(--theme-secondary-400);
                z-index: var(--zi-selected);
            }
        }

        &.is-selected,
        &--radio:checked + .s-btn {
            font-weight: bold;
        }

        .s-btn--badge {
            font-weight: normal;
        }

        white-space: nowrap; // When the buttons wrap, they get super tall and mess up the whole layout
    }

    // STATIC COMPONENT STYLES
    border: var(--su-static1) solid var(--black-300);
    border-radius: var(--br-md);
    display: inline-flex; // TODO investigate if changing from flex to inline-flex will be an issue
    flex-wrap: wrap;
    margin-bottom: var(--su-static1); // Compensate for buttons having a margin bottom of -1px to account for row wrapping
    padding: calc(var(--su-static4) - var(--su-static1));
}
