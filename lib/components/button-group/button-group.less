.s-btn-group {
    // CONTEXTUAL STYLES
    #stacks-internals #screen-sm({
        .s-btn {
            &.s-btn__dropdown {
                padding-right: 1.2em;

                &:after {
                    right: 0.4em;
                }
            }

            padding-left: 0.4em;
            padding-right: 0.4em;
        }
    }, @force-selector: true);

    // VARIANTS
    &:not(&--radio) .s-btn:not(:first-child):not(:last-child),
    &&--radio .s-btn:not(:first-of-type):not(:last-of-type) {
        border-radius: 0;
    }

    &:not(&--radio) .s-btn:first-child:not(:only-child),
    &&--radio .s-btn:first-of-type:not(:last-of-type) {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }

    &:not(&--radio) .s-btn:last-child:not(:only-child),
    &&--radio .s-btn:last-of-type:not(:first-of-type) {
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
    }

    &:not(&--radio) .s-btn:not(:last-child),
    &&--radio .s-btn:not(:last-of-type) {
        margin-right: calc(var(--su-static1) * -1);
    }

    // CHILD ELEMENTS
    form {
        &:not(:first-child):not(:last-child) {
            .s-btn {
                border-radius: 0;
            }
        }

        &:last-child:not(:only-child) {
            .s-btn:not(:last-child) {
                border-radius: 0;
            }
        }

        &:first-child:not(:only-child) {
            .s-btn:not(:first-child) {
                border-radius: 0;
            }
        }

        display: flex;
        margin-right: calc(var(--su-static1) * -1); // -1px
    }

    .s-btn {
        &:active {
            z-index: var(--zi-active);
        }

        &.is-selected,
        &--radio:checked + .s-btn {
            z-index: var(--zi-selected); // When the button is active or selected, it should pop above its siblings
        }

        margin-bottom: calc(var(--su-static1) * -1); // When wrapping we need to account for the border
        white-space: nowrap; // When the buttons wrap, they get super tall and mess up the whole layout
    }

    // STATIC COMPONENT STYLES
    display: flex;
    flex-wrap: wrap;
    margin-bottom: var(--su-static1); // Compensate for buttons having a margin bottom of -1px to account for row wrapping
}
