.s-btn-group {
    // CONTEXTUAL STYLES
    #stacks-internals #screen-sm({
        .s-btn {
            --_bu-px: 0.4em;

            &.s-btn__dropdown {
                padding-right: 1.2em;

                &:after {
                    right: var(--_bu-px);
                }
            }
        }
    }, @force-selector: true);

    // CHILD ELEMENTS
    form {
        display: flex;
        margin-right: calc(var(--su-static1) * -1); // -1px
    }

    //  --_bu-py values set below to ensure btn-group height matches same-sized button height
    // See https://github.com/StackEng/StackOverflow/pull/18992#pullrequestreview-1947490680
    .s-btn {
        --_bu-br: var(--br-sm);
        --_bu-bc-hover: transparent;
        --_bu-px: calc(var(--su12) - var(--su1)); // 11px
        --_bu-py: calc(var(--su6) + 0.65px); // 6.65px

        &.s-btn__xs {
            --_bu-px: calc(var(--su8) - var(--su1)); // 7px
            --_bu-py: calc(var(--su2) + 0.9px); // 2.9px
        }

        &.s-btn__sm {
            --_bu-px: calc(var(--su8) + var(--su1)); // 9px
            --_bu-py: calc(var(--su4) + (var(--su2) - 0.15px)); // 5.85px
        }

        &.s-btn__md {
            --_bu-px: var(--su12);
            --_bu-py: calc(var(--su8) + 0.15px); // 8.15px
        }

        &.is-selected,
        &--radio:checked + .s-btn {
            font-weight: bold;
        }

        .s-btn--badge {
            // set negative margins so button height isn't affect by badge
            margin-bottom: -100%;
            margin-top: -100%;
            font-weight: normal;
        }

        & .s-btn--text {
            &:before {
                content: attr(data-text);
                content: attr(data-text) / "";
                font-weight: bold;
                height: 0;
                pointer-events: none;
                user-select: none;
                visibility: hidden;
            }

            display: inline-flex;
            flex-direction: column;
        }

        white-space: nowrap; // When the buttons wrap, they get super tall and mess up the whole layout
    }

    // STATIC COMPONENT STYLES
    border: var(--su-static1) solid var(--black-300);
    border-radius: var(--br-md);
    display: inline-flex;
    flex-wrap: wrap;
    padding: calc(var(--su-static4) - var(--su-static1));
}
