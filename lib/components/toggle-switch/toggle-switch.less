.s-toggle-switch {
    @ts-bg-image-fill: .set-white()[default];
    @ts-bg-image-fill-dark: .set-white-dark()[default];
    --_ts-bg: var(--black-350);
    --_ts-bg-image: url("data:image/svg+xml;,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='@{ts-bg-image-fill}'/%3e%3c/svg%3e");
    --_ts-bg-ps: left center;
    --_ts-multiple-bg: unset;
    --_ts-multiple-fc: var(--black-400);

    .dark-mode({
        --_ts-bg-image: url("data:image/svg+xml;,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='@{ts-bg-image-fill-dark}'/%3e%3c/svg%3e");
    });

    fieldset[disabled] &,
    &[disabled] {
        &,
        & label {
            cursor: not-allowed;
            opacity: var(--_o-disabled-static);
        }
    }

    &&__multiple { // TODO split single and multiple toggle into two seperate components
        input[type="radio"] {
            &:checked {
                + label {
                    &.s-toggle-switch--label-off {
                        --_ts-multiple-bg: var(--black-400);
                        --_ts-multiple-fc: var(--white);
                    }

                    &:not(.s-toggle-switch--label-off) {
                        --_ts-multiple-bg: var(--green-400);
                        --_ts-multiple-fc: var(--white);
                    }
                }

            }

            &:focus-visible + label {
                .focus-styles(true);
            }

            left: -999em;
            margin: 0;
            opacity: 0;
            position: absolute;
        }

        label {
            background-color: var(--_ts-multiple-bg);
            color: var(--_ts-multiple-fc);

            border-radius: 1000px;
            cursor: pointer;
            font-size: var(--fs-body1);
            font-weight: 400;
            line-height: 1;
            margin: 0;
            padding: 0.5em 0.7em;
            text-align: center;
            white-space: nowrap;
            width: 100%;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        align-items: stretch;
        display: flex;
    }

    input[type="checkbox"], // TODO DEPRECATED: drop support for nested input[type="checkbox"]
    input[type="checkbox"]& {
        &:checked {
            --_ts-bg: var(--green-400);
            --_ts-bg-ps: right center;
        }

        &:focus-visible {
            .focus-styles();
        }

        &[disabled] {
            cursor: default;
        }

        background-color: var(--_ts-bg);
        background-position: var(--_ts-bg-ps);

        appearance: none;
        background-image: var(--_ts-bg-image);
        background-size: contain;
        background-repeat: no-repeat;
        border-radius: 1000px;
        cursor: pointer;
        flex-shrink: 0;
        height: var(--su-static24);
        margin: 0; // guard against production adding 5px of margin to these
        transition: background-position 0.2s ease;
        vertical-align: top;
        width: calc(var(--su-static48) - var(--su-static4));
    }
}
