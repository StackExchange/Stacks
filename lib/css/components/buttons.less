.s-btn {
    // BASE COMPONENT-SPECIFIC CUSTOM PROPERTIES
    --_btn-baw: var(--su-static1);
    --_btn-bc: transparent;
    --_btn-bg: transparent;
    --_btn-bg-active: var(--theme-button-active-background-color);
    --_btn-bg-hover: var(--theme-button-hover-background-color);
    --_btn-bg-selected: var(--theme-button-selected-background-color);
    --_btn-br: var(--br-sm);
    --_btn-bs: inset 0 1px 0 0 hsla(0, 0, 100%, 0.7);
    --_btn-fc: var(--theme-button-color);
    --_btn-fs: var(--fs-body1);
    --_btn-fc-active: var(--_btn-fc-hover);
    --_btn-fc-hover: var(--theme-button-hover-color);
    --_btn-fc-selected: var(--theme-button-selected-color);
    --_btn-focus-ring: 0 0 0 var(--su-static4) var(--focus-ring);
    --_btn-hc-bc: currentColor;
    --_btn-p: 0.8em;
    // VARIANT CUSTOM PROPERTIES
    // Filled
    --_btn-filled-bc: var(--theme-button-filled-border-color);
    --_btn-filled-bc-active: var(--theme-button-filled-active-border-color);
    --_btn-filled-bc-selected: var(--theme-button-filled-selected-border-color);
    --_btn-filled-bg: var(--theme-button-filled-background-color);
    --_btn-filled-bg-active: var(--theme-button-filled-active-background-color);
    --_btn-filled-bg-hover: var(--theme-button-filled-hover-background-color);
    --_btn-filled-bg-selected: var(--theme-button-filled-selected-background-color);
    --_btn-filled-fc: var(--theme-button-filled-color);
    --_btn-filled-fc-active: var(--theme-button-filled-hover-color); // Note: hover color used here intentionally
    --_btn-filled-fc-hover: var(--theme-button-filled-hover-color);
    --_btn-filled-fc-selected: var(--theme-button-filled-selected-color);
    --_btn-filled-hc-bc: var(--_btn-hc-bc);
    // Outlined
    --_btn-outlined-bc: var(--theme-button-outlined-border-color);
    --_btn-outlined-bc-selected: var(--theme-button-outlined-selected-border-color);
    --_btn-outlined-bg: var(--theme-button-outlined-background-color);
    --_btn-outlined-bg-selected: var(--theme-button-selected-background-color);
    --_btn-outlined-fc-selected: var(--theme-button-selected-color);
    --_btn-outlined-hc-bc: var(--_btn-hc-bc);
    // CHILD COMPONENT CUSTOM PROPERTIES
    --_btn-dropdown-bw: var(--su-static4);
    --_btn-number-fc: var(--white);

    // CONTEXTUAL STYLES
    .dark-mode({
        --_btn-bs: none;
    });
    .highcontrast-mode({
        --_btn-bc: var(--_btn-hc-bc);
        --_btn-filled-bc: var(--_btn-filled-hc-bc);
        --_btn-filled-bc-active: (--_btn-filled-bc);
        --_btn-filled-bc-hover: (--_btn-filled-bc);
        --_btn-outlined-bc: var(--_btn-outlined-hc-bc);
    });

    // STATES
    &[disabled],
    &[aria-disabled="true"] {
        --_btn-bs: none !important;
        opacity: var(--_btn-o-disabled-static);
        pointer-events: none;
    }
    button &,
    button[type="submit"] &,
    button[type="reset"] & {
        // Guard against the difference in configurable resets
        // Eric Meyer's reset does not include this, while normalize.css does
        // Correct the inability to style buttons in iOS and Safari.
        -webkit-appearance: button;
    }
    &.grid { // Override for buttons having inline-block by default
        --_btn-d: flex;
    }
    &.is-selected,
    .s-btn--radio:checked + & {
        --_btn-bg: var(--_btn-bg-selected);
        --_btn-bs: none;
        --_btn-fc: var(--_btn-fc-selected);
    }
    &:not(.is-selected) { // TODO: account for radio buttons
        &:hover,
        &:focus {
            background-color: var(--_btn-bg-hover);
            color: var(--_btn-fc-hover);
        }

        &:active {
            background-color: var(--_btn-bg-active);
            color: var(--_btn-fc-active);
        }
    }

    // MODIFIERS
    &&__link,
    &&__unset,
    &&__unset:hover,
    &&__unset:active,
    &&__unset:focus {
        --_btn-baw: none;
        --_btn-bg: none;
        --_btn-bg-active: none;
        --_btn-bg-hover: none;
        --_btn-br: 0;
        --_btn-bs: none;
        --_btn-p: 0;
        --_btn-focus-ring: none;
        outline: initial;
    }
    &&__unset,
    &&__link {
        &:focus,
        &:focus-visible {
            outline-style: auto;
        }
    }
    &.is-loading {
        .svg-icon:first-child {
            margin-left: -23px;
            // If the first thing in the button is an icon, let's hide it on loading
            // We only want to modify the visibility, since we still want it to have shape and keep the same layout.
            opacity: 0;
        }
    }
    &&__dropdown {
        &:after {
            content: "";
            position: absolute;
            z-index: var(--zi-active);
            top: calc(50% - var(--su-static2));
            right: var(--_btn-p);
            border-style: solid;
            border-width: var(--_btn-dropdown-bw);
            border-top-width: var(--_btn-dropdown-bw);
            border-bottom-width: 0;
            border-color: currentColor transparent;
            pointer-events: none;
        }

        padding-right: calc(var(--_btn-p) * 2.5);
    }
    &&__filled {
        &:not(.is-selected) {
            &:hover,
            &:focus {
                --_btn-bg: var(--_btn-bg-hover);
                --_btn-fc: var(--_btn-fc-hover);
            }
        
            &:active {
                --_btn-bg: var(--_btn-bg-active);
                --_btn-bc: var(--_btn-filled-bc-active);
                --_btn-fc: var(--_btn-fc-active);
            }
        }
        &.is-selected {
            --_btn-bc: var(--_btn-filled-bc-selected);
            --_btn-bg: var(--_btn-filled-bg-selected);
            --_btn-fc: var(--_btn-filled-fc-selected);
        }
        .highcontrast-mode({
            --_btn-bc: var(--_btn-filled-hc-bc);
        });

        --_btn-bc: var(--_btn-filled-bc);
        --_btn-bc-active: var(--_btn-filled-bc-active);
        --_btn-bg: var(--_btn-filled-bg);
        --_btn-bg-active: var(--_btn-filled-bg-active);
        --_btn-bg-hover: var(--_btn-filled-bg-hover);
        --_btn-fc: var(--_btn-filled-fc);
        --_btn-fc-active: var(--_btn-filled-fc-active); 
        --_btn-fc-hover: var(--_btn-filled-fc-hover);
    }
    &&__icon {
        //  -- BUTTONS WITH ICONS
        //  ------------------------------------------------------------------------
        //  [1] Most svg icons are 18px tall, but the button's line-height is 1 (13px).
        //      This means we need to off set the margin y-axis so we don't add
        //      additional height to the button.
        //  ------------------------------------------------------------------------
        .svg-icon {
            vertical-align: baseline;
            margin-top: -0.3em;         // [1]
            margin-bottom: -0.3em;      // [1]
            transition: opacity 200ms var(--te-smooth); // Animate the transition to .is-loading
        }
    }
    &&__link {
        &:hover,
        &:active,
        &:focus,
        &[disabled],
        &[aria-disabled="true"] {
            --_btn-bg: none;
            --_btn-bg-active: none;
            --_btn-bg-hover: none;
        }
        &.s-btn__dropdown {
            padding-right: 0.9em;
        }
    
        .s-link();
        display: inline;
        font: inherit;
        text-align: inherit;
    }
    &&__outlined {
        --_btn-bc: var(--_btn-outlined-bc);
        --_btn-bg: var(--_btn-outlined-bg);
    
        &.is-selected {
            --_btn-bc: var(--_btn-outlined-bc-selected);
            --_btn-bg: var(--_btn-outlined-bg-selected);
            --_btn-fc: var(--_btn-outlined-fc-selected);
        }
        .highcontrast-mode({
            --bc: var(--_btn-outlined-hc-bc);
        });
    }
    &&__unset {
        &,
        &:hover,
        &:active,
        &:focus {
            --_btn-fc: unset;
            --_btn-fc-active: unset;
            --_btn-fc-hover: unset;

            cursor: default;
            font: unset;
            user-select: auto;
        }
    }
    // Size
    &&__xs {
        --_btn-dropdown-bw: calc(var(--su-static4) - var(--su-static1));
        --_btn-fs: var(--fs-fine);
        --_btn-p: 0.6em;
    }
    &&__sm {
        --_btn-fs: var(--fs-caption);
    }
    &&__md {
        --_btn-br: calc(var(--br-sm) + var(--su-static1));
        --_btn-fs: var(--fs-body3);
        --_btn-p: 0.7em;
    }

    // VARIANTS
    &&__danger {
        --_btn-bg-active: var(--red-100);
        --_btn-bg-hover: var(--red-050);
        --_btn-bg-selected: var(--red-200);
        --_btn-bs: inset 0 1px 0 0 hsla(0, 0%, 100%, 0.4);
        --_btn-fc: var(--red-600);
        --_btn-fc-hover: var(--red-700);
        --_btn-fc-selected: var(--red-900);
        --_btn-focus-ring: 0 0 0 var(--su-static4) var(--focus-ring-error);
        // Filled
        --_btn-filled-bc: transparent;
        --_btn-filled-bc-selected: var(--_btn-filled-bc);
        --_btn-filled-bg: var(--red-500);
        --_btn-filled-bg-active: var(--red-700);
        --_btn-filled-bg-hover: var(--red-600);
        --_btn-filled-bg-selected: var(--red-800);
        --_btn-filled-fc: var(--white);
        --_btn-filled-fc-active: var(--_btn-filled-fc);
        --_btn-filled-fc-hover: var(--_btn-filled-fc);
        --_btn-filled-fc-selected: var(--_btn-filled-fc);
        --_btn-filled-hc-bc: transparent;
        // Outlined
        --_btn-outlined-bc: var(--red-500);
        --_btn-outlined-bc-selected: var(--red-700);
        --_btn-outlined-bg: var(--_btn-bg);
        --_btn-outlined-bg-selected: var(--_btn-bg-selected);
        --_btn-outlined-fc-selected: var(--_btn-fc-selected);
    
        &.s-btn__filled {
            --_btn-number-fc: var(--black);
    
            &:not(.is-selected) {
                .highcontrast-dark-mode({
                    --_btn-number-fc: var(--black);
                });
            }
        }
        .dark-mode({
            --_btn-outlined-bc-selected: var(--red-600);
    
            &:not(.is-selected) {
                --_btn-filled-bg: var(--red-500);
                --_btn-filled-fc: var(--black);
                --_btn-number-fc: var(--white);
            }
        });
        .highcontrast-dark-mode({
            --_btn-filled-fc: var(--white);
    
            &.s-btn__filled {
                &:not(.is-selected) {
                        --_btn-number-fc: var(--black);
                }
            }
        });
    }
    &&__muted {
        --_btn-bg-active: var(--black-050);
        --_btn-bg-hover: var(--black-025);
        --_btn-bg-selected: var(--black-075);
        --_btn-bs: inset 0 1px 0 0 hsla(0, 0%, 100%, 0.4);
        --_btn-fc: var(--black-500);
        --_btn-fc-hover: var(--black-600);
        --_btn-fc-selected: var(--black-700);
        --_btn-focus-ring: 0 0 0 var(--su-static4) var(--focus-ring-muted);
        // Filled
        --_btn-filled-bc: transparent;
        --_btn-filled-bc-selected: var(--_btn-filled-bc);
        --_btn-filled-bg: var(--black-100);
        --_btn-filled-bg-active: var(--black-200);
        --_btn-filled-bg-hover: var(--black-150);
        --_btn-filled-bg-selected: var(--black-350);
        --_btn-filled-fc: var(--black-700);
        --_btn-filled-fc-active: var(--_btn-filled-fc);
        --_btn-filled-fc-hover: var(--_btn-filled-fc);
        --_btn-filled-fc-selected: var(--black-800);
        --_btn-filled-hc-bc: transparent;
        // Outlined
        --_btn-outlined-bc: var(--black-300);
        --_btn-outlined-bc-selected: var(--black-400);
        --_btn-outlined-bg: var(--_btn-bg);
        --_btn-outlined-bg-selected: var(--_btn-bg-selected);
        --_btn-outlined-fc-selected: var(--_btn-fc-selected);

        .highcontrast-mode({
            --_btn-filled-bg: var(--black-400);
            --_btn-filled-bg-active: var(--black-400);
            --_btn-filled-bg-hover: var(--black-400);
            --_btn-filled-bg-selected: var(--black-700);
            --_btn-filled-fc: var(--white);
            --_btn-filled-fc-selected: var(--_btn-filled-fc);

            &.s-btn__filled {
                --_btn-number-fc: var(--black);
            }
        });
    }
    &&__primary {
        --_btn-bg: var(--theme-button-primary-background-color);
        --_btn-bg-active: var(--theme-button-primary-active-background-color);
        --_btn-bg-hover: var(--theme-button-primary-hover-background-color);
        --_btn-bg-selected: var(--theme-button-primary-selected-background-color);
        --_btn-bs: inset 0 1px 0 0 hsla(0, 0%, 100%, 0.4);
        --_btn-fc: var(--theme-button-primary-color);
        --_btn-fc-hover: var(--theme-button-primary-hover-color);
        --_btn-fc-selected: var(--theme-button-primary-selected-color);
        --_btn-hc-bc: transparent;
        --_btn-number-fc: var(--theme-button-primary-number-color);

        .dark-mode({
            &:not(.is-selected) {
                --_btn-bg: var(--theme-secondary-300);
                --_btn-bg-active: var(--_btn-bg);
                --_btn-bg-hover: var(--_btn-bg);
                --_btn-fc: var(--black);
                --_btn-fc-active: var(--_btn-fc);
                --_btn-fc-hover: var(--_btn-fc);
                --_btn-number-fc: var(--white);
            }
        });
        .highcontrast-dark-mode({
            &:not(.is-selected) {
                --_btn-bg: var(--theme-secondary-400);
                --_btn-fc: var(--white);
                --_btn-number-fc: var(--black);
            }
        })
    }
    // Social
    &&__facebook {
        @_fb-brand: #385499;
        --_btn-bc: transparent;
        --_btn-bg: @_fb-brand;
        --_btn-bg-active: darken(@_fb-brand, 10%);
        --_btn-bg-hover: darken(@_fb-brand, 5%);
        --_btn-fc: #fff;
        --_btn-fc-active: var(--_btn-fc);
        --_btn-fc-hover: var(--_btn-fc);
        --_btn-hc-bc: transparent;
    }
    &&__google {
        --_btn-bc: var(--bc-medium);
        --_btn-bg: var(--white);
        --_btn-bg-active: var(--black-050);
        --_btn-bg-hover: var(--black-025);
        --_btn-fc: var(--fc-medium);
        --_btn-fc-active: var(--fc-dark);
        --_btn-fc-hover: var(--black-800); // TODO standardize around --fc-* custom properties
        --_btn-focus-ring: 0 0 0 var(--su-static4) var(--focus-ring-muted);
    }
    &&__github {
        --_btn-bg: var(--black-750);
        --_btn-bg-active: var(--black);
        --_btn-bg-hover: var(--black-800);
        --_btn-fc: var(--white);
        --_btn-fc-active: var(--white);
        --_btn-fc-hover: var(--white);
        --_btn-focus-ring: 0 0 0 var(--su-static4) var(--focus-ring-muted);
        --_btn-hc-bc: transparent;
    }

    // CHILD ELEMENTS
    & &--badge {
        opacity: var(--_btn-o-disabled);
        display: inline-block;
        border-radius: var(--br-sm);
        padding: var(--su2) calc(var(--su4) - var(--su1));
        font-size: var(--fs-caption);
        line-height: var(--lh-xs);
        background-color: currentColor;
    }
    & &--number {
        color: var(--_btn-number-fc);
    }
    &--radio { // This lives alongside a .s-btn element
        .v-visible-sr;
    }

    // INTERACTION
    &:focus,
    &--radio:checked:focus + & {
        box-shadow: var(--_btn-focus-ring);
        outline: none;
    }

    // STYLES MODIFIED BY COMPONENT-SPECIFIC CUSTOM PROPERTIES
    background-color: var(--_btn-bg);
    border: var(--_btn-baw) solid var(--_btn-bc);
    border-radius: var(--_btn-br);
    box-shadow: var(--_btn-bs);
    color: var(--_btn-fc);
    font-size: var(--_btn-fs);
    line-height: var(--lh-sm);
    padding: var(--_btn-p);

    // STATIC COMPONENT STYLES
    cursor: pointer;
    display: inline-block;
    font-family: inherit;
    font-weight: normal;
    position: relative;
    outline: none;
    text-align: center;
    text-decoration: none;
    user-select: none;
}