//
//  STACK OVERFLOW
//  NOTICES
//
//  This CSS comes from Stacks, our CSS & Pattern library for rapidly building
//  Stack Overflow. For documentation of all these classes and how to contribute,
//  visit https://stackoverflow.design/
//
.build-component(@name) {
    .s-@{name} {
        --_bc: var(--bc-light);
        --_bg-color: var(--black-050);
        --_fc: var(--fc-medium);
        --_btn-focus-bg-color: var(--black-100);
        --_btn-active-bg-color: var(--black-150);
        --_code-bg-color: transparent;

        .dark-mode({ --_bc: transparent; });
        .highcontrast-mode({ --_bc: currentColor; });

        &.s-@{name}__important {
            --_bc: transparent;
            --_bg-color: var(--black-700);
            --_fc: var(--white);
            --_code-bg-color: transparent;

            .highcontrast-mode({ --_bc: currentColor; });
        }

        &.s-@{name}__danger,
        &.s-@{name}__info,
        &.s-@{name}__success,
        &.s-@{name}__warning {
            .dark-mode({ --_bc: transparent; });

            &.s-@{name}__important {
                --_bc: transparent;
                --_bg-color: var(--black-700);
                --_fc: var(--white);
                --_code-bg-color: transparent;

                .highcontrast-mode({ --_bc: currentColor; });
            }
        }

        &.s-@{name}__danger {
            --_bc: var(--red-200);
            --_bg-color: var(--red-050);
            --_btn-focus-bg-color: var(--red-100);
            --_btn-active-bg-color: var(--red-200);

            .highcontrast-mode({
                --_bc: var(--red-400);
                --_bg-color: var(--red-200);
            });

            &.s-@{name}__important {
                --_bg-color: var(--red-400);
                
                .highcontrast-mode({
                    --_bc: var(--red-500);
                    --_bg-color: var(--red-500);
                });
            }

        }

        &.s-@{name}__info {
            --_bc: var(--theme-secondary-150);
            --_bg-color: var(--theme-secondary-050);
            --_btn-focus-bg-color: var(--theme-secondary-100);
            --_btn-active-bg-color: var(--theme-secondary-150);
            --_code-bg-color: var(--theme-secondary-150);

            &.s-@{name}__important {
                --_bg-color: var(--theme-secondary-400);
                --_code-bg-color: inherit;
            }
        }

        &.s-@{name}__success {
            --_bc: var(--green-200);
            --_bg-color: var(--green-050);
            --_btn-focus-bg-color: var(--green-100);
            --_btn-active-bg-color: var(--green-200);

            .highcontrast-mode({
                --_bc: var(--green-400);
                --_bg-color: var(--green-200);
            });

            &.s-@{name}__important {
                --_bg-color: var(--green-400);
                --_fc: var(--black-900);

                .highcontrast-mode({
                    --_bc: transparent;
                    --_bg-color: var(--green-500);
                    --_fc: var(--white);
                });
            }
        }

        &.s-@{name}__warning {
            --_bc: var(--yellow-300);
            --_bg-color: var(--yellow-050);
            --_btn-focus-bg-color: var(--yellow-200);
            --_btn-active-bg-color: var(--yellow-300);
            --_code-bg-color: var(--yellow-200);

            .highcontrast-mode({
                --_bc: var(--yellow-700);
                --_bg-color: var(--yellow-200);
            });

            &.s-@{name}__important {
                --_bg-color: var(--yellow-400);
                --_fc: var(--black-900);

                .highcontrast-mode({
                    --_bc: transparent;
                    --_bg-color: var(--yellow-500);
                    --_fc: var(--white);
                });
            }
        }

        background-color: var(--_bg-color);
        border: 1px solid var(--_bc);
        border-radius: var(--br-sm);
        color: var(--_fc);
        font-size: var(--fs-body1);
        padding: var(--su16);

        code {
            background-color: var(--_code-bg-color);
        }

        .s-@{name}--btn {
            color: var(--fc-dark);
            padding: var(--su8);

            &:focus,
            &:hover {
                background-color: var(--_btn-focus-bg-color);
            }

            &:active {
                background-color: var(--_btn-active-bg-color);
            }
        }

        // & when (@name = banner) {
        //     outline: 5px solid green;
        // }
        & when (@name = notice) {
            .s-toast & {
                max-width: 44rem;
                width: 100%;
                padding-top: var(--su8);
                padding-bottom: var(--su8);
                box-shadow: var(--bs-sm);
                pointer-events: all;
            }
        }
    }
}

.build-component(banner);
.build-component(notice);

//  ============================================================================
//  $   TOASTS
//  ----------------------------------------------------------------------------
.s-toast {
    visibility: hidden;
    position: fixed;
    display: flex;
    justify-content: center;
    top: var(--su16);
    left: var(--su8);
    right: var(--su8);
    opacity: 0;
    z-index: calc(var(--zi-modals) + 1); // Toasts should appear above modals
    transform: translate3d(0, -66px, 0);
    transition: transform 100ms var(--te-smooth-slow) 0s, opacity 60ms var(--te-smooth-slow) 0ms, visibility 0s 150ms;
    pointer-events: none;

    &[aria-hidden="false"] {
        visibility: visible;
        opacity: 1;
        transform: translate3d(0, 0, 0);
        transition: visibility 0s 0s, opacity 100ms var(--te-smooth) 0s, transform 100ms var(--te-smooth) 0s;
    }

    @media (prefers-reduced-motion) {
        transform: none;
    }
}
