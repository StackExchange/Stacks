.s-table-container {
    overflow-x: auto;
    @scrollbar-styles();
}

.s-table {
    @ta-cell-border: var(--su-static1) solid var(--bc-medium);
    @ta-columns: (100% / 12);

    --_ta-cell-bb: unset;
    --_ta-cell-ta: left;
    --_ta-cell-va: middle;
    --_ta-cell-w: unset;

    --_ta-th-fw: bold;

    // VARIANTS
    &&__stripes { // TODO: PPCP-ify
        // Darken the header
        thead th {
            background-color: var(--black-050);
        }
        // Add in stripes
        tbody tr:nth-child(even) {
            background-color: var(--black-025);
        }
    }

    // MODIFIERS
    &.ta-left {
        --_ta-cell-ta: left;
    }

    &.ta-center {
        --_ta-cell-ta: center;
    }

    &.ta-right {
        --_ta-cell-ta: right;
    }

    &.ta-justify {
        --_ta-cell-ta: justify;
    }

    &.va-top {
        --_ta-cell-va: top;
    }

    &.va-middle {
        --_ta-cell-va: middle;
    }

    &.va-bottom {
        --_ta-cell-va: bottom;
    }

    &&__b0 { // No Borders // TODO: PPCP-ify
        th,
        td,
        tr:last-of-type th,
        tr:last-of-type td {
            border-color: transparent;
        }

        //  Clear Header Styles
        thead th {
            background-color: transparent;
            text-transform: initial;
            font-size: inherit;
            letter-spacing: initial;
        }

        //  This makes the border transparent, so we need to use whitespace
        //  to achieve the same effect a 2px gray border achieves.
        tbody + tbody {
            border-color: transparent;
            border-width: var(--su-static12);
        }
    }

    &&__bx { // Horizontal Only with Table Outline // TODO: PPCP-ify
        tr {
            > *:not(:first-child) {
                border-left-color: transparent;
            }
            > *:not(:last-child) {
                border-right-color: transparent;
            }
        }
    }

    &&__bx-simple { // Horizontal Only without Table Outline // TODO: PPCP-ify
        th,
        td {
            border-left-color: transparent;
            border-right-color: transparent;
        }
        thead th {
            border-top-color: transparent;
            border-bottom-color: var(--bc-darker);
            //  Clear Header Styles
            background-color: transparent;
            text-transform: initial;
            font-size: inherit;
            letter-spacing: initial;
        }
        tbody tr {
            &:first-of-type th,
            &:first-of-type td {
                border-top-color: transparent;
            }
            &:last-of-type th,
            &:last-of-type td {
                border-bottom-color: transparent;
            }
        }
        tfoot th,
        tfoot td {
            border-bottom-color: transparent;
        }
    }

    &&__sm { // TODO: PPCP-ify
        th,
        td {
            padding: var(--su4);
        }
    }

    &&__lg { // TODO: PPCP-ify
        th,
        td {
            padding: var(--su12);
        }
    }

    &&__sortable thead th { // TODO: PPCP-ify
        color: var(--fc-light);
        cursor: pointer;

        //  If an anchor is used, it should appear like a normal header
        a {
            color: inherit;
        }

        //  Selected state
        &.is-sorted {
            color: var(--black-900);
        }
    }

    // CHILD ELEMENTS
    td,
    th {
        .s-checkbox {
            display: block;
        }

        border-bottom: var(--_ta-cell-bb);
        text-align: var(--_ta-cell-ta);
        width: var(--_ta-cell-w);

        border-left: @ta-cell-border;
        border-right: @ta-cell-border;
        border-top: @ta-cell-border;
        padding: var(--su8);
    }

    tbody {
        + tbody {
            border-top: var(--su-static2) solid var(--bc-medium); // If two table bodies are next to each other, visually separate them
        }

        th {
            --_ta-th-fw: normal; //  When in a table body, don't make it bold.
        }
    }

    td {
        vertical-align: var(--_ta-cell-va);

        color: var(--fc-medium);
    }

    th {
        font-weight: var(--_ta-th-fw);
        vertical-align: var(--_ta-th-va, var(--_ta-cell-va));

        color: var(--fc-dark);
    }

    thead th { // Custom styles when in a table head
        --_ta-th-va: bottom;

        background-color: var(--black-025);
        line-height: var(--lh-sm);
        white-space: nowrap;
    }

    tr {
        &:last-of-type {
            --_ta-cell-bb: @ta-cell-border; // If it's the last row, add a bottom border
        }

        &.is-disabled { // Disabled rows // TODO: PPCP-ify
            background-color: var(--black-025);

            th:not(.is-enabled),
            td:not(.is-enabled) {
                opacity: calc(var(--_o-disabled) * 0.6); // 0.5 * 0.6 = 0.3
            }
        }
    }

    & &--bulk {
        &td,
        &th { // TODO: investigate this style
            --_ta-cell-w: calc(var(--su32) - var(--su2));
        }
    }

    & &--cell {
        .generate-cell-widths-classes(@n, @i: 1) when (@i =< @n) {
            &@{i} { // generates iterated cell classes
                width: @ta-columns * @i;
            }
            .generate-cell-widths-classes(@n, (@i + 1));
        }

        .generate-cell-widths-classes(12);
    }

    & &--progress { // TODO: PPCP-ify
        &td {
            border-right: none;
            text-align: right;
        }
    }

    & &--progress-bar { // TODO: PPCP-ify
        &td {
            border-left: none;
            padding-left: 0;
            width: 120px;
        }
    }

    & &--totals { // TODO: PPCP-ify
        th,
        td {
            padding-top: var(--su12);
            font-size: var(--fs-subheading);
            font-weight: bold;
        }
    }

    border-collapse: collapse;
    border-spacing: 0;
    display: table;
    font-size: var(--fs-body1);
    max-width: 100%;
    width: 100%;
}
