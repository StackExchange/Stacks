@import (reference) "./mixins.less";

// LEGACY

//  --  Base Hue Values
@white-h: 0;
@black-h: 210;
@orange-h: 27;
@yellow-h: 47;
@green-h: 140;
@blue-h: 206;
@powder-h: 205;
@red-h: 358;
@fog-h: 180;
@gold-h: 48;
@silver-h: 210;
@bronze-h: 28;

//  --  Base Saturation Values
@black-s: 8%;

//  --  Primary Colors
@white: hsl(@white-h, 0%, 100%);
@black: hsl(@black-h, @black-s, 5%);
@orange: hsl(@orange-h, 90%, 55%);

//  --  Accent Colors
@yellow: hsl(@yellow-h, 83%, 91%);
@green: hsl(@green-h, 40%, 55%);
@blue: hsl(@blue-h, 100%, 40%);
@powder: hsl(@powder-h, 46%, 92%);
@red: hsl(@red-h, 62%, 52%);
@fog: hsl(@fog-h, 7%, 97%);

// Black
@black-legacy-025: hsl(@black-h, @black-s, 97.5%);
@black-legacy-050: hsl(@black-h, @black-s, 95%);
@black-legacy-075: hsl(@black-h, @black-s, 90%);
@black-legacy-100: hsl(@black-h, @black-s, 85%);
@black-legacy-150: hsl(@black-h, @black-s, 80%);
@black-legacy-200: hsl(@black-h, @black-s, 75%);
@black-legacy-300: hsl(@black-h, @black-s, 65%);
@black-legacy-350: hsl(@black-h, @black-s, 60%);
@black-legacy-400: hsl(@black-h, @black-s, 55%);
@black-legacy-500: hsl(@black-h, @black-s, 45%);
@black-legacy-600: hsl(@black-h, @black-s, 35%);
@black-legacy-700: hsl(@black-h, @black-s, 25%);
@black-legacy-750: hsl(@black-h, @black-s, 20%);
@black-legacy-800: hsl(@black-h, @black-s, 15%);
@black-legacy-900: @black;

// Orange
@orange-legacy-050: hsl(@orange-h, 100%, 97%);
@orange-legacy-100: hsl(@orange-h, 95%, 90%);
@orange-legacy-200: hsl(@orange-h, 90%, 83%);
@orange-legacy-300: hsl(@orange-h, 90%, 70%);
@orange-legacy-400: @orange;
@orange-legacy-500: hsl(@orange-h, 90%, 50%);
@orange-legacy-600: hsl(@orange-h, 90%, 45%);
@orange-legacy-700: hsl(@orange-h, 90%, 39%);
@orange-legacy-800: hsl(@orange-h, 87%, 35%);
@orange-legacy-900: hsl(@orange-h, 80%, 30%);

// Blue
@blue-legacy-050: hsl(@blue-h, 100%, 97%);
@blue-legacy-100: hsl(@blue-h, 96%, 90%);
@blue-legacy-200: hsl(@blue-h, 93%, 83.5%);
@blue-legacy-300: hsl(@blue-h, 90%, 69.5%);
@blue-legacy-400: hsl(@blue-h, 85%, 57.5%);
@blue-legacy-500: hsl(@blue-h, 100%, 52%);
@blue-legacy-600: @blue;
@blue-legacy-700: hsl(@blue-h + 3, 100%, 37.5%);
@blue-legacy-800: hsl(@blue-h + 3, 100%, 32%);
@blue-legacy-900: hsl(@blue-h + 3, 100%, 26%);

// Powder
@powder-legacy-050: hsl(@powder-h, 47%, 97%);
@powder-legacy-100: @powder;
@powder-legacy-200: hsl(@powder-h, 53%, 88%);
@powder-legacy-300: hsl(@powder-h, 57%, 81%);
@powder-legacy-400: hsl(@powder-h, 56%, 76%);
@powder-legacy-500: hsl(@powder-h, 41%, 63%);
@powder-legacy-600: hsl(@powder-h, 36%, 53%);
@powder-legacy-700: hsl(@powder-h, 47%, 42%);
@powder-legacy-800: hsl(@powder-h, 46%, 32%);
@powder-legacy-900: hsl(@powder-h, 46%, 22%);

// Green
@green-legacy-025: hsl(@green-h, 42%, 95%);
@green-legacy-050: hsl(@green-h, 40%, 90%);
@green-legacy-100: hsl(@green-h, 40%, 85%);
@green-legacy-200: hsl(@green-h, 40%, 75%);
@green-legacy-300: hsl(@green-h, 40%, 65%);
@green-legacy-400: @green;
@green-legacy-500: hsl(@green-h, 40%, 47%);
@green-legacy-600: hsl(@green-h, 40%, 40%);
@green-legacy-700: hsl(@green-h, 41%, 31%);
@green-legacy-800: hsl(@green-h, 40%, 27%);
@green-legacy-900: hsl(@green-h, 40%, 20%);

// Yellow
@yellow-legacy-050: hsl(@yellow-h, 87%, 94%);
@yellow-legacy-100: @yellow;
@yellow-legacy-200: hsl(@yellow-h, 65%, 84%);
@yellow-legacy-300: hsl(@yellow-h, 69%, 69%);
@yellow-legacy-400: hsl(@yellow-h, 79%, 58%);
@yellow-legacy-500: hsl(@yellow-h, 73%, 50%);
@yellow-legacy-600: hsl(@yellow-h, 76%, 46%);
@yellow-legacy-700: hsl(@yellow-h, 79%, 40%);
@yellow-legacy-800: hsl(@yellow-h, 82%, 34%);
@yellow-legacy-900: hsl(@yellow-h, 84%, 28%);

// Red
@red-legacy-025: hsl(@red-h, 80%, 98%);
@red-legacy-050: hsl(@red-h, 75%, 97%);
@red-legacy-100: hsl(@red-h, 76%, 90%);
@red-legacy-200: hsl(@red-h, 74%, 83%);
@red-legacy-300: hsl(@red-h, 70%, 70%);
@red-legacy-400: hsl(@red-h, 68%, 59%);
@red-legacy-500: @red;
@red-legacy-600: hsl(@red-h, 62%, 47%);
@red-legacy-700: hsl(@red-h, 64%, 41%);
@red-legacy-800: hsl(@red-h, 64%, 35%);
@red-legacy-900: hsl(@red-h, 67%, 29%);

//  $  BADGES
//  ----------------------------------------------------------------------------
@gold: hsl(@gold-h, 100%, 50%);
@gold-lighter: hsl(@gold-h, 100%, 91%);
@gold-darker: hsl(@gold-h - 3, 100%, 47%);

@silver: hsl(@silver-h, 6%, 72%);
@silver-lighter: hsl(@silver-h, 0%, 91%);
@silver-darker: hsl(@silver-h, 3%, 61%);

@bronze: hsl(@bronze-h, 38%, 67%);
@bronze-lighter: hsl(@bronze-h, 40%, 92%);
@bronze-darker: hsl(@bronze-h, 31%, 52%);

//  $  SCROLLBARS
//  ----------------------------------------------------------------------------
@scrollbar: hsla(0, 0%, 0%, 0.2);

//  ============================================================================
//  $   CSS Variable Colors
//  ----------------------------------------------------------------------------
.generate-calculated-themed-variables(@primary, @designation: primary, @theme: base) {
    // Split into h/s/l/a values
    --theme-@{theme}-@{designation}-color-h: hue(@primary);
    --theme-@{theme}-@{designation}-color-s: saturation(@primary);
    --theme-@{theme}-@{designation}-color-l: lightness(@primary);

    // Split into r/g/b values
    --theme-@{theme}-@{designation}-color-r: red(@primary);
    --theme-@{theme}-@{designation}-color-g: green(@primary);
    --theme-@{theme}-@{designation}-color-b: blue(@primary);
}

.generate-themed-variables(@theme: theme) {
    // Primary color
    // Split into h/s/l/a values
    --theme-primary-color-h: var(~"--@{theme}-primary-color-h", var(--theme-base-primary-color-h));
    --theme-primary-color-s: var(~"--@{theme}-primary-color-s", var(--theme-base-primary-color-s));
    --theme-primary-color-l: var(~"--@{theme}-primary-color-l", var(--theme-base-primary-color-l));

    // Split into r/g/b values
    --theme-primary-color-r: var(~"--@{theme}-primary-color-r", var(--theme-base-primary-color-r));
    --theme-primary-color-g: var(~"--@{theme}-primary-color-g", var(--theme-base-primary-color-g));
    --theme-primary-color-b: var(~"--@{theme}-primary-color-b", var(--theme-base-primary-color-b));

    // Secondary color
    // Split into h/s/l/a values
    --theme-secondary-color-h: var(~"--@{theme}-secondary-color-h", var(--theme-base-secondary-color-h));
    --theme-secondary-color-s: var(~"--@{theme}-secondary-color-s", var(--theme-base-secondary-color-s));
    --theme-secondary-color-l: var(~"--@{theme}-secondary-color-l", var(--theme-base-secondary-color-l));

    // Split into r/g/b values
    --theme-secondary-color-r: var(~"--@{theme}-secondary-color-r", var(--theme-base-secondary-color-r));
    --theme-secondary-color-g: var(~"--@{theme}-secondary-color-g", var(--theme-base-secondary-color-g));
    --theme-secondary-color-b: var(~"--@{theme}-secondary-color-b", var(--theme-base-secondary-color-b));
}

//  --  Light mode
.light-colors() {
    --white: @white;
    --black: @black;
    --orange: @orange;
    --yellow: @yellow;
    --green: @green;
    --blue: @blue;
    --powder: @powder;
    --red: @red;

    // Black
    --black-legacy-025: @black-legacy-025;
    --black-legacy-050: @black-legacy-050;
    --black-legacy-075: @black-legacy-075;
    --black-legacy-100: @black-legacy-100;
    --black-legacy-150: @black-legacy-150;
    --black-legacy-200: @black-legacy-200;
    --black-legacy-300: @black-legacy-300;
    --black-legacy-350: @black-legacy-350;
    --black-legacy-400: @black-legacy-400;
    --black-legacy-500: @black-legacy-500;
    --black-legacy-600: @black-legacy-600;
    --black-legacy-700: @black-legacy-700;
    --black-legacy-750: @black-legacy-750;
    --black-legacy-800: @black-legacy-800;
    --black-legacy-900: @black-legacy-900;

    // Orange
    --orange-legacy-050: @orange-legacy-050;
    --orange-legacy-100: @orange-legacy-100;
    --orange-legacy-200: @orange-legacy-200;
    --orange-legacy-300: @orange-legacy-300;
    --orange-legacy-400: @orange-legacy-400;
    --orange-legacy-500: @orange-legacy-500;
    --orange-legacy-600: @orange-legacy-600;
    --orange-legacy-700: @orange-legacy-700;
    --orange-legacy-800: @orange-legacy-800;
    --orange-legacy-900: @orange-legacy-900;

    // Blue
    --blue-legacy-050: @blue-legacy-050;
    --blue-legacy-100: @blue-legacy-100;
    --blue-legacy-200: @blue-legacy-200;
    --blue-legacy-300: @blue-legacy-300;
    --blue-legacy-400: @blue-legacy-400;
    --blue-legacy-500: @blue-legacy-500;
    --blue-legacy-600: @blue-legacy-600;
    --blue-legacy-700: @blue-legacy-700;
    --blue-legacy-800: @blue-legacy-800;
    --blue-legacy-900: @blue-legacy-900;

    // Powder
    --powder-legacy-050: @powder-legacy-050;
    --powder-legacy-100: @powder-legacy-100;
    --powder-legacy-200: @powder-legacy-200;
    --powder-legacy-300: @powder-legacy-300;
    --powder-legacy-400: @powder-legacy-400;
    --powder-legacy-500: @powder-legacy-500;
    --powder-legacy-600: @powder-legacy-600;
    --powder-legacy-700: @powder-legacy-700;
    --powder-legacy-800: @powder-legacy-800;
    --powder-legacy-900: @powder-legacy-900;

    // Green
    --green-legacy-025: @green-legacy-025;
    --green-legacy-050: @green-legacy-050;
    --green-legacy-100: @green-legacy-100;
    --green-legacy-200: @green-legacy-200;
    --green-legacy-300: @green-legacy-300;
    --green-legacy-400: @green-legacy-400;
    --green-legacy-500: @green-legacy-500;
    --green-legacy-600: @green-legacy-600;
    --green-legacy-700: @green-legacy-700;
    --green-legacy-800: @green-legacy-800;
    --green-legacy-900: @green-legacy-900;

    // Yellow
    --yellow-legacy-050: @yellow-legacy-050;
    --yellow-legacy-100: @yellow-legacy-100;
    --yellow-legacy-200: @yellow-legacy-200;
    --yellow-legacy-300: @yellow-legacy-300;
    --yellow-legacy-400: @yellow-legacy-400;
    --yellow-legacy-500: @yellow-legacy-500;
    --yellow-legacy-600: @yellow-legacy-600;
    --yellow-legacy-700: @yellow-legacy-700;
    --yellow-legacy-800: @yellow-legacy-800;
    --yellow-legacy-900: @yellow-legacy-900;

    // Red
    --red-legacy-025: @red-legacy-025;
    --red-legacy-050: @red-legacy-050;
    --red-legacy-100: @red-legacy-100;
    --red-legacy-200: @red-legacy-200;
    --red-legacy-300: @red-legacy-300;
    --red-legacy-400: @red-legacy-400;
    --red-legacy-500: @red-legacy-500;
    --red-legacy-600: @red-legacy-600;
    --red-legacy-700: @red-legacy-700;
    --red-legacy-800: @red-legacy-800;
    --red-legacy-900: @red-legacy-900;

    // Gold
    --gold: @gold;
    --gold-lighter: @gold-lighter;
    --gold-darker: @gold-darker;

    // Silver
    --silver: @silver;
    --silver-lighter: @silver-lighter;
    --silver-darker: @silver-darker;

    // Bronze
    --bronze: @bronze;
    --bronze-lighter: @bronze-lighter;
    --bronze-darker: @bronze-darker;

    // Border colors
    --bc-lightest: var(--black-legacy-025);
    --bc-lighter: var(--black-legacy-050);
    --bc-light: var(--black-legacy-075);
    --bc-medium: var(--black-legacy-100);
    --bc-dark: var(--black-legacy-150);
    --bc-darker: var(--black-legacy-200);

    // Font colors
    --fc-dark: @black-legacy-900;
    --fc-medium: @black-legacy-700;
    --fc-light: @black-legacy-500;

    // Focus rings
    --focus-ring-success: hsla(@green-h, 40%, 75%, 40%);
    --focus-ring-warning: hsla(@yellow-h, 79%, 58%, 40%);
    --focus-ring-error: hsla(@red-h, 62%, 47%, 15%);
    --focus-ring-muted: hsla(@black-h, @black-s, 15%, 10%);

    // Opacity
    --_o-disabled: 0.5;
    --_o-disabled-static: 0.5;

    // Shadows
    --bs-sm: 0 1px 2px hsla(0, 0%, 0%, 0.05), 0 1px 4px hsla(0, 0%, 0%, 0.05), 0 2px 8px hsla(0, 0%, 0%, 0.05);
    --bs-md: 0 1px 3px hsla(0, 0%, 0%, 0.06), 0 2px 6px hsla(0, 0%, 0%, 0.06), 0 3px 8px hsla(0, 0%, 0%, 0.09);
    --bs-lg: 0 1px 4px hsla(0, 0%, 0%, 0.09), 0 3px 8px hsla(0, 0%, 0%, 0.09), 0 4px 13px hsla(0, 0%, 0%, 0.13);
    --bs-xl: 0 10px 24px hsla(0, 0%, 0%, 0.05), 0 20px 48px hsla(0, 0%, 0%, 0.05), 0 1px 4px hsla(0, 0%, 0%, 0.1);

    // Scrollbars
    --scrollbar: hsla(0, 0, 0, 0.2);

    // Syntax highlighting
    --highlight-bg: hsl(0, 0%, 96.5%); // Between black-legacy-025 and black-legacy-050
    --highlight-color: var(--black-legacy-750); // AAA 11.78
    --highlight-comment: hsl(@black-h, 8%, 43.5%); // ~black-legacy-500 AA 4.80
    --highlight-punctuation: var(--black-legacy-600); // AA 6.48
    --highlight-namespace: hsl(@orange-h, 99%, 36%); // Custom orange AA 4.51
    --highlight-attribute: hsl(@blue-h, 98.5%, 29%); // Custom blue AAA 7.25
    --highlight-literal: hsl(@orange-h, 99%, 36%); // Custom orange AA 4.51
    --highlight-symbol: hsl(306, 43%, 35%); // Custom purple AAA 7.30
    --highlight-keyword: hsl(@blue-h, 98.5%, 29%); // Custom blue AAA 7.07
    --highlight-variable: hsl(80, 80.5%, 26.5%); // Custom green AAA 7.25
    --highlight-addition: var(--green-legacy-700); // AA 5.59
    --highlight-deletion: var(--red-legacy-600); // AA 5.31
}

.light-themed-colors() {
    // Reassemble as a single hsl value
    --theme-primary-color: .assemble-color(theme-primary-color)[];

    // Steps
    --theme-primary-900: .native-darken(theme-primary-color, 26)[];
    --theme-primary-800: .native-darken(theme-primary-color, 21)[];
    --theme-primary-700: .native-darken(theme-primary-color, 16)[];
    --theme-primary-600: .native-darken(theme-primary-color, 10)[];
    --theme-primary-500: .native-darken(theme-primary-color, 5)[];
    --theme-primary-400: var(--theme-primary-color);
    --theme-primary-350: .native-tint(theme-primary-color, 20)[];
    --theme-primary-300: .native-tint(theme-primary-color, 35)[];
    --theme-primary-200: .native-tint(theme-primary-color, 48)[];
    --theme-primary-150: .native-tint(theme-primary-color, 65)[];
    --theme-primary-100: .native-tint(theme-primary-color, 78)[];
    --theme-primary-075: .native-tint(theme-primary-color, 85)[];
    --theme-primary-050: .native-tint(theme-primary-color, 92)[];
    --theme-primary-025: .native-tint(theme-primary-color, 96)[];

    // Reassemble as a single hsl value
    --theme-secondary-color: .assemble-color(theme-secondary-color)[];

    // Steps
    --theme-secondary-900: .native-darken(theme-secondary-color, 26)[];
    --theme-secondary-800: .native-darken(theme-secondary-color, 21)[];
    --theme-secondary-700: .native-darken(theme-secondary-color, 16)[];
    --theme-secondary-600: .native-darken(theme-secondary-color, 10)[];
    --theme-secondary-500: .native-darken(theme-secondary-color, 5)[];
    --theme-secondary-400: var(--theme-secondary-color);
    --theme-secondary-350: .native-tint(theme-secondary-color, 20)[];
    --theme-secondary-300: .native-tint(theme-secondary-color, 35)[];
    --theme-secondary-200: .native-tint(theme-secondary-color, 48)[];
    --theme-secondary-150: .native-tint(theme-secondary-color, 65)[];
    --theme-secondary-100: .native-tint(theme-secondary-color, 78)[];
    --theme-secondary-075: .native-tint(theme-secondary-color, 85)[];
    --theme-secondary-050: .native-tint(theme-secondary-color, 92)[];
    --theme-secondary-025: .native-tint(theme-secondary-color, 96)[];

    // Fades
    --focus-ring: .native-fade(theme-secondary-color, 15)[];
}

//  --  Dark mode
.dark-colors() {
    --white: hsl(@black-h, 0%, 17.5%);
    --black: @white;

    // Black
    --black-legacy-025: hsl(@black-h, 0%, 22.5%);
    --black-legacy-050: hsl(@black-h, 0%, 24%);
    --black-legacy-075: hsl(@black-h, 4%, 26%);
    --black-legacy-100: hsl(@black-h, 4.5%, 30.5%);
    --black-legacy-150: hsl(@black-h, 5%, 35%);
    --black-legacy-200: hsl(@black-h, 5.5%, 43.5%);
    --black-legacy-300: hsl(@black-h, 6.5%, 52%);
    --black-legacy-350: hsl(@black-h, 7%, 61%);
    --black-legacy-400: hsl(@black-h, 8%, 65%);
    --black-legacy-500: hsl(@black-h, 8%, 70%);
    --black-legacy-600: hsl(@black-h, 7%, 78.5%);
    --black-legacy-700: hsl(@black-h, 8%, 82.5%);
    --black-legacy-750: hsl(@black-h, 9%, 86.5%);
    --black-legacy-800: hsl(@black-h, 9%, 91.5%);
    --black-legacy-900: hsl(@black-h, 4%, 95%);

    // Orange
    --orange-legacy-050: hsl(@orange-h, 16.5%, 23.9%);
    --orange-legacy-100: hsl(@orange-h, 30%, 28.4%);
    --orange-legacy-200: hsl(@orange-h, 50%, 36.9%);
    --orange-legacy-300: hsl(@orange-h, 70%, 47.3%);
    --orange-legacy-400: hsl(@orange-h, 90.5%, 54.9%);
    --orange-legacy-500: hsl(@orange-h, 100%, 59%);
    --orange-legacy-600: hsl(@orange-h, 100%, 68.4%);
    --orange-legacy-700: hsl(@orange-h, 89.5%, 74.1%);
    --orange-legacy-800: hsl(@orange-h, 92%, 85.7%);
    --orange-legacy-900: hsl(@orange-h, 95%, 91.8%);

    // Blue
    --blue-legacy-050: hsl(@blue-h, 40%, 23%);
    --blue-legacy-100: hsl(@blue-h, 44%, 26%);
    --blue-legacy-200: hsl(@blue-h, 46%, 30%);
    --blue-legacy-300: hsl(@blue-h, 53%, 35%);
    --blue-legacy-400: hsl(@blue-h + 3, 56%, 43%);
    --blue-legacy-500: hsl(@blue-h, 64%, 51%);
    --blue-legacy-600: hsl(@blue-h, 100%, 60%);
    --blue-legacy-700: hsl(@blue-h, 90%, 74%);
    --blue-legacy-800: hsl(@blue-h, 95%, 86%);
    --blue-legacy-900: hsl(@blue-h, 91%, 91.5%);

    // Powder
    --powder-legacy-050: hsl(@powder-h, 5%, 27%);
    --powder-legacy-100: hsl(@powder-h, 14%, 28%);
    --powder-legacy-200: hsl(@powder-h, 17.5%, 32%);
    --powder-legacy-300: hsl(@powder-h, 19.5%, 37%);
    --powder-legacy-400: hsl(@powder-h, 22.5%, 44%);
    --powder-legacy-500: hsl(@powder-h, 29%, 54%);
    --powder-legacy-600: hsl(@powder-h, 50%, 65.5%);
    --powder-legacy-700: hsl(@powder-h, 46.5%, 73.5%);
    --powder-legacy-800: hsl(@powder-h, 49.5%, 87%);
    --powder-legacy-900: hsl(@powder-h, 100%, 95%);

    // Green
    --green-legacy-025: hsl(@green-h, 18%, 22%);
    --green-legacy-050: hsl(@green-h, 18%, 25%);
    --green-legacy-100: hsl(@green-h, 22.5%, 31%);
    --green-legacy-200: hsl(@green-h, 23.5%, 37%);
    --green-legacy-300: hsl(@green-h, 25%, 40.5%);
    --green-legacy-400: hsl(@green-h, 27.5%, 48.5%);
    --green-legacy-500: hsl(@green-h, 35%, 54.5%);
    --green-legacy-600: hsl(@green-h, 40%, 61.5%);
    --green-legacy-700: hsl(@green-h, 39.5%, 69.5%);
    --green-legacy-800: hsl(@green-h, 39.5%, 78.5%);
    --green-legacy-900: hsl(@green-h, 38%, 86.5%);

    // Yellow
    --yellow-legacy-050: hsl(@yellow-h, 13%, 24.5%);
    --yellow-legacy-100: hsl(@yellow-h, 19%, 27%);
    --yellow-legacy-200: hsl(@yellow-h, 30.5%, 31%);
    --yellow-legacy-300: hsl(@yellow-h, 37%, 36%);
    --yellow-legacy-400: hsl(@yellow-h, 45.5%, 42.5%);
    --yellow-legacy-500: hsl(@yellow-h, 55.5%, 48%);
    --yellow-legacy-600: hsl(@yellow-h, 67.5%, 55.5%);
    --yellow-legacy-700: hsl(@yellow-h, 84.5%, 64%);
    --yellow-legacy-800: hsl(@yellow-h, 90%, 72.5%);
    --yellow-legacy-900: hsl(@yellow-h, 93%, 83.5%);

    // Red
    --red-legacy-025: hsl(@red-h + 3, 10%, 24%);
    --red-legacy-050: hsl(@red-h + 3, 30%, 26.5%);
    --red-legacy-100: hsl(@red-h + 3, 35%, 33%);
    --red-legacy-200: hsl(@red-h + 3, 37%, 38.5%);
    --red-legacy-300: hsl(@red-h + 3, 39%, 43.5%);
    --red-legacy-400: hsl(@red-h + 3, 42%, 49%);
    --red-legacy-500: hsl(@red-h + 3, 50%, 54%);
    --red-legacy-600: hsl(@red-h + 3, 56.5%, 59.5%);
    --red-legacy-700: hsl(@red-h + 3, 62.5%, 65.5%);
    --red-legacy-800: hsl(@red-h + 3, 64%, 74%);
    --red-legacy-900: hsl(@red-h + 3, 65.5%, 85.5%);

    // Gold
    --gold: @gold;
    --gold-lighter: hsl(@gold-h, 22%, 30%);
    --gold-darker: @gold-darker;

    // Silver
    --silver: @silver;
    --silver-lighter: hsl(@silver-h, 0%, 26%);
    --silver-darker: @silver-darker;

    // Bronze
    --bronze: @bronze;
    --bronze-lighter: hsl(@bronze-h, 13%, 27%);
    --bronze-darker: @bronze-darker;

    // Border colors
    --bc-lightest: var(--black-legacy-025);
    --bc-lighter: var(--black-legacy-050);
    --bc-light: var(--black-legacy-075);
    --bc-medium: var(--black-legacy-100);
    --bc-dark: var(--black-legacy-150);
    --bc-darker: var(--black-legacy-200);

    // Font colors
    --fc-dark: var(--black-legacy-900);
    --fc-medium: var(--black-legacy-700);
    --fc-light: var(--black-legacy-500);

    // Focus rings
    --focus-ring-success: hsla(@green-h, 40%, 75%, 40%);
    --focus-ring-warning: hsla(@yellow-h, 79%, 58%, 40%);
    --focus-ring-error: hsla(@red-h, 62%, 52%, 30%);
    --focus-ring-muted: hsla(@black-h, @black-s, 100%, 10%);

    // Opacity
    --_o-disabled: 0.5;
    --_o-disabled-static: 0.5;

    // Shadows
    --bs-sm: 0 1px 2px hsla(0, 0%, 0%, 0.1), 0 1px 4px hsla(0, 0%, 0%, 0.1), 0 2px 8px hsla(0, 0%, 0%, 0.1);
    --bs-md: 0 1px 3px hsla(0, 0%, 0%, 0.11), 0 2px 6px hsla(0, 0%, 0%, 0.11), 0 3px 8px hsla(0, 0%, 0%, 0.14);
    --bs-lg: 0 1px 4px hsla(0, 0%, 0%, 0.14), 0 3px 8px hsla(0, 0%, 0%, 0.14), 0 4px 13px hsla(0, 0%, 0%, 0.18);
    --bs-xl: 0 10px 24px hsla(0, 0%, 0%, 0.1), 0 20px 48px hsla(0, 0%, 0%, 0.1), 0 1px 4px hsla(0, 0%, 0%, 0.15);
    
    // Scrollbars
    --scrollbar: hsla(0, 0%, 100%, 0.2);

    // Syntax highlighting
    --highlight-bg: hsl(0, 2%, 11%);
    --highlight-color: var(--black); // AAA 17.19
    --highlight-comment: hsl(0, 0%, 60%); // AA 6.03
    --highlight-punctuation: hsl(0, 0%, 80%); // AAA 10.70
    --highlight-namespace: hsl(@orange-h, 85%, 61.5%); // Custom orange AAA 7.05
    --highlight-attribute: hsl(@powder-h + 2, 41.5%, 67%); // Custom powder blue AAA 7.63
    --highlight-literal: hsl(@orange-h, 85%, 61.5%); // Custom orange AAA 7.05
    --highlight-symbol: hsl(306, 43%, 69%); // Custom purple AAA 7.23
    --highlight-keyword: hsl(@powder-h + 3, 41.5%, 67%); // Custom powder blue AAA 7.63
    --highlight-variable: hsl(65.5, 39%, 57.5%);
    --highlight-addition: var(--green-legacy-600); // AAA 8.21
    --highlight-deletion: var(--red-legacy-700); // AA 5.51
}

.dark-themed-colors() {
    // Reassemble as a single hsl value
    --theme-primary-color: .assemble-color(theme-primary-color)[];

    // Reassemble as a single hsl value
    --theme-secondary-color: .assemble-color(theme-secondary-color)[];

    .dark-themed-colors-generator(@variant) {
        --theme-@{variant}-025: .native-darken-desaturate(~"theme-@{variant}-color", 31, 73.3)[];
        --theme-@{variant}-050: .native-darken-desaturate(~"theme-@{variant}-color", 15, 47)[];
        --theme-@{variant}-075: .native-darken-desaturate(~"theme-@{variant}-color", 13, 39)[];
        --theme-@{variant}-100: .native-darken-desaturate(~"theme-@{variant}-color", 11, 32)[];
        --theme-@{variant}-150: .native-darken-desaturate(~"theme-@{variant}-color", 9, 23)[];
        --theme-@{variant}-200: .native-darken-desaturate(~"theme-@{variant}-color", 7, 15)[];
        --theme-@{variant}-300: .native-darken-desaturate(~"theme-@{variant}-color", 5, 7)[];
        --theme-@{variant}-350: var(~"--theme-@{variant}-color");
        --theme-@{variant}-400: .native-tint(~"theme-@{variant}-color", 21)[];
        --theme-@{variant}-500: .native-tint(~"theme-@{variant}-color", 36)[];
        --theme-@{variant}-600: .native-tint(~"theme-@{variant}-color", 51)[];
        --theme-@{variant}-700: .native-tint(~"theme-@{variant}-color", 66)[];
        --theme-@{variant}-800: .native-tint(~"theme-@{variant}-color", 81)[];
        --theme-@{variant}-900: .native-tint(~"theme-@{variant}-color", 96)[];
    }

    .dark-themed-colors-generator(primary);
    .dark-themed-colors-generator(secondary);

    // Fades
    --focus-ring: .native-fade(theme-secondary-color, 25)[];
}

// rules shared between .theme-dark and .theme-system w/ prefers-color-scheme: dark
.theme-dark-rules() {
    .dark-colors();

    &,
    & .themed {
        color: var(--theme-body-font-color);
        .generate-themed-variables(theme-dark);
        // add in the themed "native mixins", making sure to scope to the child .themed elements so they don't use the parent's values
        .dark-themed-colors();
    }
}

//  --  High contrast modes
.light-highcontrast() {
    --white: hsl(0, 0%, 100%);
    --black: hsl(0, 0%, 0%);

    // Black
    --black-legacy-025: hsl(@black-h, @black-s, 97.5%);
    --black-legacy-050: hsl(@black-h, @black-s, 95%);
    --black-legacy-075: hsl(@black-h, @black-s, 92.5%);
    --black-legacy-100: hsl(@black-h, @black-s, 90%);
    --black-legacy-150: hsl(@black-h, @black-s, 87.5%);
    --black-legacy-200: hsl(@black-h, @black-s, 85%);
    --black-legacy-300: hsl(@black-h, @black-s, 35%);
    --black-legacy-350: hsl(@black-h, @black-s, 32.5%);
    --black-legacy-400: hsl(@black-h, @black-s, 30%);
    --black-legacy-500: hsl(@black-h, @black-s, 25%);
    --black-legacy-600: hsl(@black-h, @black-s, 20%);
    --black-legacy-700: hsl(@black-h, @black-s, 15%);
    --black-legacy-750: hsl(@black-h, @black-s, 10%);
    --black-legacy-800: hsl(@black-h, @black-s, 5%);
    --black-legacy-900: hsl(@black-h, @black-s, 0%);

    // Orange
    --orange-legacy-050: hsl(@orange-h, 100%, 93%);
    --orange-legacy-100: hsl(@orange-h, 100%, 90%);
    --orange-legacy-200: hsl(@orange-h, 100%, 86%);
    --orange-legacy-300: hsl(@orange-h, 100%, 81%);
    --orange-legacy-400: hsl(@orange-h, 100%, 34%);
    --orange-legacy-500: hsl(@orange-h, 100%, 29%);
    --orange-legacy-600: hsl(@orange-h, 100%, 24%);
    --orange-legacy-700: hsl(@orange-h, 100%, 19%);
    --orange-legacy-800: hsl(@orange-h, 100%, 13%);
    --orange-legacy-900: hsl(@orange-h, 100%, 8%);

    // Blue
    --blue-legacy-050: hsl(@blue-h, 100%, 94%);
    --blue-legacy-100: hsl(@blue-h, 100%, 92%);
    --blue-legacy-200: hsl(@blue-h, 100%, 89%);
    --blue-legacy-300: hsl(@blue-h, 100%, 86%);
    --blue-legacy-400: hsl(@blue-h, 100%, 25%);
    --blue-legacy-500: hsl(@blue-h, 100%, 20%);
    --blue-legacy-600: hsl(@blue-h, 100%, 15%);
    --blue-legacy-700: hsl(@blue-h, 100%, 10%);
    --blue-legacy-800: hsl(@blue-h, 100%, 7.5%);
    --blue-legacy-900: hsl(@blue-h, 100%, 5%);

    // Powder
    --powder-legacy-050: hsl(@powder-h, 100%, 95%);
    --powder-legacy-100: hsl(@powder-h, 85%, 93%);
    --powder-legacy-200: hsl(@powder-h, 75%, 89%);
    --powder-legacy-300: hsl(@powder-h, 70%, 86%);
    --powder-legacy-400: hsl(@powder-h, 55%, 28%);
    --powder-legacy-500: hsl(@powder-h, 60%, 24%);
    --powder-legacy-600: hsl(@powder-h, 70%, 20%);
    --powder-legacy-700: hsl(@powder-h, 75%, 16%);
    --powder-legacy-800: hsl(@powder-h, 75%, 12%);
    --powder-legacy-900: hsl(@powder-h, 75%, 8%);

    // Green
    --green-legacy-025: hsl(@green-h, 100%, 94%);
    --green-legacy-050: hsl(@green-h, 100%, 91%);
    --green-legacy-100: hsl(@green-h, 100%, 87%);
    --green-legacy-200: hsl(@green-h, 100%, 83%);
    --green-legacy-300: hsl(@green-h, 100%, 78%);
    --green-legacy-400: hsl(@green-h, 100%, 18%);
    --green-legacy-500: hsl(@green-h, 100%, 15%);
    --green-legacy-600: hsl(@green-h, 100%, 12%);
    --green-legacy-700: hsl(@green-h, 100%, 9%);
    --green-legacy-800: hsl(@green-h, 100%, 6%);
    --green-legacy-900: hsl(@green-h, 100%, 3%);

    // Yellow
    --yellow-legacy-050: hsl(@yellow-h, 100%, 92%);
    --yellow-legacy-100: hsl(@yellow-h, 100%, 88%);
    --yellow-legacy-200: hsl(@yellow-h, 95%, 83%);
    --yellow-legacy-300: hsl(@yellow-h, 95%, 75%);
    --yellow-legacy-400: hsl(@yellow-h, 100%, 28%);
    --yellow-legacy-500: hsl(@yellow-h, 100%, 26%);
    --yellow-legacy-600: hsl(@yellow-h, 100%, 23%);
    --yellow-legacy-700: hsl(@yellow-h, 100%, 19%);
    --yellow-legacy-800: hsl(@yellow-h, 100%, 13%);
    --yellow-legacy-900: hsl(@yellow-h, 100%, 7%);

    // Red
    --red-legacy-025: hsl(@red-h, 100%, 97%);
    --red-legacy-050: hsl(@red-h, 100%, 94%);
    --red-legacy-100: hsl(@red-h, 100%, 92%);
    --red-legacy-200: hsl(@red-h, 100%, 89%);
    --red-legacy-300: hsl(@red-h, 100%, 86%);
    --red-legacy-400: hsl(@red-h, 100%, 35%);
    --red-legacy-500: hsl(@red-h, 100%, 29%);
    --red-legacy-600: hsl(@red-h, 100%, 23%);
    --red-legacy-700: hsl(@red-h, 100%, 17%);
    --red-legacy-800: hsl(@red-h, 100%, 11%);
    --red-legacy-900: hsl(@red-h, 100%, 7%);

    // Gold
    --gold: hsl(@gold-h, 100%, 50%);
    --gold-lighter: hsl(@gold-h, 100%, 91%);
    --gold-darker: hsl(@gold-h - 3, 100%, 20%);

    // Silver
    --silver: hsl(@silver-h, 6%, 72%);
    --silver-lighter: hsl(@silver-h, 6%, 91%);
    --silver-darker: hsl(@silver-h, 6%, 30%);

    // Bronze
    --bronze: hsl(@bronze-h, 38%, 65%);
    --bronze-lighter: hsl(@bronze-h, 40%, 92%);
    --bronze-darker: hsl(@bronze-h, 31%, 25%);

    // Border colors
    --bc-lightest: var(--black-legacy-400);
    --bc-lighter: var(--black-legacy-400);
    --bc-light: var(--black-legacy-400);
    --bc-medium: var(--black-legacy-400);
    --bc-dark: var(--black-legacy-700);
    --bc-darker: var(--black-legacy-900);

    // Font colors
    --fc-dark: var(--black-legacy-900);
    --fc-medium: var(--black-legacy-700);
    --fc-light: var(--black-legacy-500);

    // Focus rings
    --focus-ring: fade(@blue-legacy-600, 90%);
    --focus-ring-success: fade(@green-legacy-600, 90%);
    --focus-ring-warning: fade(@yellow-legacy-600, 90%);
    --focus-ring-error: fade(@red-legacy-600, 90%);
    --focus-ring-muted: fade(@black-legacy-400, 95%);

    // Opacity
    --_o-disabled: 0.8;

    // Shadows
    --bs-sm: none;
    --bs-md: none;
    --bs-lg: none;
    --bs-xl: none;

    // Scrollbars
    --scrollbar: var(--black);

    // Syntax highlighting
    --highlight-bg: hsl(0, 0%, 96.5%); // Between black-legacy-025 and black-legacy-050
    --highlight-color: var(--black-legacy-750);
    --highlight-comment: hsl(213, 7%, 33%); // Custom black
    --highlight-punctuation: var(--black-legacy-600);
    --highlight-namespace: hsl(16, 94%, 31%); // Custom orange
    --highlight-attribute: hsl(215, 100%, 35%); // Custom blue
    --highlight-literal: hsl(16, 94%, 31%); // Custom orange
    --highlight-symbol: hsl(309, 45%, 31%); // Custom purple
    --highlight-keyword: hsl(215, 100%, 35%); // Custom blue
    --highlight-variable: hsl(88, 100%, 19%); // Custom green
    --highlight-addition: var(--green-legacy-500);
    --highlight-deletion: var(--red-legacy-500);

    // High contrast theme override
    &:extend(.highcontrast-themed-colors);
}

.dark-highcontrast() {
    --white: hsl(0, 0%, 0%);
    --black: hsl(0, 0%, 100%);

    // Black
    --black-legacy-025: hsl(@black-h, @black-s, 2.5%);
    --black-legacy-050: hsl(@black-h, @black-s, 5%);
    --black-legacy-075: hsl(@black-h, @black-s, 7.5%);
    --black-legacy-100: hsl(@black-h, @black-s, 10%);
    --black-legacy-150: hsl(@black-h, @black-s, 12.5%);
    --black-legacy-200: hsl(@black-h, @black-s, 15%);
    --black-legacy-300: hsl(@black-h, @black-s, 65%);
    --black-legacy-350: hsl(@black-h, @black-s, 67.5%);
    --black-legacy-400: hsl(@black-h, @black-s, 70%);
    --black-legacy-500: hsl(@black-h, @black-s, 75%);
    --black-legacy-600: hsl(@black-h, @black-s, 80%);
    --black-legacy-700: hsl(@black-h, @black-s, 85%);
    --black-legacy-750: hsl(@black-h, @black-s, 90%);
    --black-legacy-800: hsl(@black-h, @black-s, 95%);
    --black-legacy-900: hsl(@black-h, @black-s, 100%);

    // Orange
    --orange-legacy-050: hsl(@orange-h, 100%, 7%);
    --orange-legacy-100: hsl(@orange-h, 100%, 9%);
    --orange-legacy-200: hsl(@orange-h, 100%, 15%);
    --orange-legacy-300: hsl(@orange-h, 100%, 22%);
    --orange-legacy-400: hsl(@orange-h, 100%, 64%);
    --orange-legacy-500: hsl(@orange-h, 100%, 71%);
    --orange-legacy-600: hsl(@orange-h, 100%, 77%);
    --orange-legacy-700: hsl(@orange-h, 100%, 82%);
    --orange-legacy-800: hsl(@orange-h, 100%, 87%);
    --orange-legacy-900: hsl(@orange-h, 100%, 91%);

    // Blue
    --blue-legacy-050: hsl(@blue-h, 100%, 7%);
    --blue-legacy-100: hsl(@blue-h, 100%, 11%);
    --blue-legacy-200: hsl(@blue-h, 100%, 17%);
    --blue-legacy-300: hsl(@blue-h, 100%, 24%);
    --blue-legacy-400: hsl(@blue-h, 100%, 75%);
    --blue-legacy-500: hsl(@blue-h, 100%, 80%);
    --blue-legacy-600: hsl(@blue-h, 100%, 85%);
    --blue-legacy-700: hsl(@blue-h, 100%, 90%);
    --blue-legacy-800: hsl(@blue-h, 100%, 92.5%);
    --blue-legacy-900: hsl(@blue-h, 100%, 95%);

    // Powder
    --powder-legacy-050: hsl(@powder-h, 100%, 7%);
    --powder-legacy-100: hsl(@powder-h, 95%, 10%);
    --powder-legacy-200: hsl(@powder-h, 80%, 14%);
    --powder-legacy-300: hsl(@powder-h, 76%, 19%);
    --powder-legacy-400: hsl(@powder-h, 55%, 72%);
    --powder-legacy-500: hsl(@powder-h, 60%, 76%);
    --powder-legacy-600: hsl(@powder-h, 70%, 80%);
    --powder-legacy-700: hsl(@powder-h, 75%, 84%);
    --powder-legacy-800: hsl(@powder-h, 75%, 88%);
    --powder-legacy-900: hsl(@powder-h, 75%, 92%);

    // Green
    --green-legacy-025: hsl(@green-h, 100%, 5%);
    --green-legacy-050: hsl(@green-h, 100%, 6%);
    --green-legacy-100: hsl(@green-h, 100%, 7%);
    --green-legacy-200: hsl(@green-h, 100%, 11%);
    --green-legacy-300: hsl(@green-h, 100%, 15%);
    --green-legacy-400: hsl(@green-h, 100%, 65%);
    --green-legacy-500: hsl(@green-h, 100%, 71%);
    --green-legacy-600: hsl(@green-h, 100%, 77%);
    --green-legacy-700: hsl(@green-h, 100%, 83%);
    --green-legacy-800: hsl(@green-h, 100%, 89%);
    --green-legacy-900: hsl(@green-h, 100%, 94%);

    // Yellow
    --yellow-legacy-050: hsl(@yellow-h, 100%, 6%);
    --yellow-legacy-100: hsl(@yellow-h, 100%, 9%);
    --yellow-legacy-200: hsl(@yellow-h, 100%, 14%);
    --yellow-legacy-300: hsl(@yellow-h, 100%, 20%);
    --yellow-legacy-400: hsl(@yellow-h, 100%, 55%);
    --yellow-legacy-500: hsl(@yellow-h, 100%, 63%);
    --yellow-legacy-600: hsl(@yellow-h, 100%, 71%);
    --yellow-legacy-700: hsl(@yellow-h, 100%, 79%);
    --yellow-legacy-800: hsl(@yellow-h, 100%, 87%);
    --yellow-legacy-900: hsl(@yellow-h, 100%, 95%);

    // Red
    --red-legacy-025: hsl(@red-h, 100%, 7%);
    --red-legacy-050: hsl(@red-h, 100%, 9%);
    --red-legacy-100: hsl(@red-h, 100%, 12%);
    --red-legacy-200: hsl(@red-h, 100%, 17%);
    --red-legacy-300: hsl(@red-h, 100%, 22%);
    --red-legacy-400: hsl(@red-h, 100%, 70%);
    --red-legacy-500: hsl(@red-h, 100%, 75%);
    --red-legacy-600: hsl(@red-h, 100%, 80%);
    --red-legacy-700: hsl(@red-h, 100%, 85%);
    --red-legacy-800: hsl(@red-h, 100%, 90%);
    --red-legacy-900: hsl(@red-h, 100%, 95%);

    // Gold
    --gold: hsl(@gold-h, 100%, 50%);
    --gold-lighter: hsl(@gold-h - 3, 100%, 9%);
    --gold-darker: hsl(@gold-h - 3, 100%, 80%);

    // Silver
    --silver: hsl(@silver-h, 6%, 72%);
    --silver-lighter: hsl(@silver-h, 5%, 9%);
    --silver-darker: hsl(@silver-h, 5%, 70%);

    // Bronze
    --bronze: hsl(@bronze-h, 38%, 65%);
    --bronze-lighter: hsl(@bronze-h, 40%, 8%);
    --bronze-darker: hsl(@bronze-h, 46.7%, 75%);

    // Border colors
    --bc-lightest: var(--black-legacy-400);
    --bc-lighter: var(--black-legacy-400);
    --bc-light: var(--black-legacy-400);
    --bc-medium: var(--black-legacy-400);
    --bc-dark: var(--black-legacy-700);
    --bc-darker: var(--black-legacy-900);

    // Focus rings
    --focus-ring: fade(@blue-legacy-600, 90%);
    --focus-ring-success: fade(@green-legacy-600, 90%);
    --focus-ring-warning: fade(@yellow-legacy-600, 90%);
    --focus-ring-error: fade(@red-legacy-600, 90%);
    --focus-ring-muted: fade(@black-legacy-400, 95%);

    // Font colors
    --fc-dark: var(--black-legacy-900);
    --fc-medium: var(--black-legacy-700);
    --fc-light: var(--black-legacy-500);

    // Opacity
    --_o-disabled: 0.8;

    // Shadows
    --bs-sm: none;
    --bs-md: none;
    --bs-lg: none;
    --bs-xl: none;

    // Scrollbars
    --scrollbar: var(--black);

    // Syntax highlighting
    --highlight-bg: hsl(0, 0%, 10%);
    --highlight-color: hsl(0, 0%, 100%);
    --highlight-comment: hsl(0, 0%, 99%); // Custom gray
    --highlight-punctuation: hsl(0, 0%, 99%); // Custom gray
    --highlight-namespace: hsl(36, 96%, 71%); // Custom orange
    --highlight-attribute: hsl(200, 57%, 85%); // Custom blue
    --highlight-literal: hsl(36, 96%, 71%); // Custom orange
    --highlight-symbol: hsl(304, 39%, 85%); // Custom purple
    --highlight-keyword: hsl(200, 57%, 85%); // Custom blue
    --highlight-variable: hsl(62, 71%, 81%); // Custom green
    --highlight-addition: var(--green-legacy-600);
    --highlight-deletion: var(--red-legacy-700);

    // High contrast theme override
    &:extend(.highcontrast-themed-colors);
}

.highcontrast-themed-colors {
    // Primary Theming
    --theme-primary-color: var(--orange-legacy-400);
    --theme-primary-025: var(--orange-legacy-050);
    --theme-primary-050: var(--orange-legacy-050);
    --theme-primary-075: var(--orange-legacy-050);
    --theme-primary-100: var(--orange-legacy-100);
    --theme-primary-150: var(--orange-legacy-100);
    --theme-primary-200: var(--orange-legacy-200);
    --theme-primary-300: var(--orange-legacy-300);
    --theme-primary-350: var(--orange-legacy-300);
    --theme-primary-400: var(--orange-legacy-400);
    --theme-primary-500: var(--orange-legacy-500);
    --theme-primary-600: var(--orange-legacy-600);
    --theme-primary-700: var(--orange-legacy-700);
    --theme-primary-800: var(--orange-legacy-800);
    --theme-primary-900: var(--orange-legacy-900);

    // Secondary Theming
    --theme-secondary-color: var(--blue-legacy-400);
    --theme-secondary-025: var(--blue-legacy-050);
    --theme-secondary-050: var(--blue-legacy-050);
    --theme-secondary-075: var(--blue-legacy-050);
    --theme-secondary-100: var(--blue-legacy-100);
    --theme-secondary-150: var(--blue-legacy-100);
    --theme-secondary-200: var(--blue-legacy-200);
    --theme-secondary-300: var(--blue-legacy-300);
    --theme-secondary-350: var(--blue-legacy-300);
    --theme-secondary-400: var(--blue-legacy-400);
    --theme-secondary-500: var(--blue-legacy-500);
    --theme-secondary-600: var(--blue-legacy-600);
    --theme-secondary-700: var(--blue-legacy-700);
    --theme-secondary-800: var(--blue-legacy-800);
    --theme-secondary-900: var(--blue-legacy-900);
}

:root {
    // specify the default colors in less, then deconstruct them
    // this keeps the hsl/rgb variables below in sync, but consumers will need to set each variable separately
    @defaultPrimaryColor: @orange;
    @defaultSecondaryColor: @blue;
    .generate-calculated-themed-variables(@defaultPrimaryColor, primary);
    .generate-calculated-themed-variables(@defaultSecondaryColor, secondary);
}

// Light mode
body:not(.theme-dark),
body.theme-dark .theme-light__forced,
body.theme-system .theme-light__forced {
    .light-colors();

    &,
    & .themed {
        color: var(--theme-body-font-color);
        .generate-themed-variables(theme-light);
        // add in the themed "native mixins", making sure to scope to the child .themed elements so they don't use the parent's values
        .light-themed-colors();
    }
}

// Dark mode
body.theme-dark,
body:not(.theme-dark) .theme-dark__forced {
    .theme-dark-rules();
}
body.theme-system {
    @media (prefers-color-scheme: dark) {
        .theme-dark-rules();
    }
}

// High contrast mode (Light)
body.theme-highcontrast:not(.theme-dark),
body.theme-dark.theme-highcontrast .theme-light__forced,
body.theme-system.theme-highcontrast .theme-light__forced {
    .light-highcontrast();
}

// High contrast mode (Dark)
body.theme-dark.theme-highcontrast,
body.theme-highcontrast:not(.theme-dark) .theme-dark__forced {
    .dark-highcontrast();
}
body.theme-system.theme-highcontrast {
    @media (prefers-color-scheme: dark) {
        .dark-highcontrast();
    }
}
